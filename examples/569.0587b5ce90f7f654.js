"use strict";(self.webpackChunkexamples=self.webpackChunkexamples||[]).push([[569],{61569:(E,v,s)=>{s.d(v,{tG:()=>w,UH:()=>d.U,SO:()=>l.S,yn:()=>a,DC:()=>c,De:()=>B}),s(97493),s(43554);var d=s(48307),l=(s(82817),s(81016)),c=(()=>{return(u=c||(c={})).BeginDrag="BeginDrag",u.Hover="Hover",u.Drop="Drop",u.EndDrag="EndDrag",c;var u})();class S{constructor(m,D){this.type=m,this.item=D,this.event=c.BeginDrag}}class o{constructor(m,D){this.type=m,this.item=D,this.event=c.Hover}}class T{constructor(m,D){this.type=m,this.item=D,this.event=c.Drop}}class e{constructor(m,D){this.type=m,this.item=D,this.event=c.EndDrag}}class a{constructor(m,D,g){this.store=m,this.actionType=D,this.beginDrag=(I,O)=>{this.store.dispatch(new S(this.actionType,I))},this.hover=(I,O)=>{this.store.dispatch(new o(this.actionType,I))},this.drop=(I,O)=>{this.store.dispatch(new T(this.actionType,I))},this.endDrag=(I,O)=>{this.store.dispatch(new e(this.actionType,I))},void 0!==g.type&&(this.type=g.type),void 0!==g.accepts&&(this.accepts=g.accepts),void 0!==g.trackBy&&(this.trackBy=g.trackBy),void 0!==g.getList&&(this.getList=g.getList),void 0!==g.canDrag&&(this.canDrag=g.canDrag),void 0!==g.canDrop&&(this.canDrop=g.canDrop),void 0!==g.isDragging&&(this.isDragging=g.isDragging),void 0!==g.createData&&(this.createData=g.createData)}}var t=s(26109),i=s(48045),n=s(90594);const p=Symbol("SPILLED_LIST_ID");function B(u,m,D){const g=f=>f?(f.hover={listId:p,index:-1},Object.assign({},f)):null,I=new t.x,O=u.dropTarget(m,{hover:f=>{if(f.canDrop()&&f.isOver({shallow:!0})){const L=g(f.getItem());I.next(L)}else I.next(null)},drop:D.drop&&(f=>{const L=g(f.getItem());f.didDrop()||D.drop&&L&&D.drop(L)})||void 0}),M=I.pipe((0,i.x)(),(0,n.h)(f=>!!f)).subscribe(f=>{D.hover&&f&&D.hover(f)});return O.add(M),O}var b=s(22031),A=s(4730),x=(s(64365),s(16355));let w=(()=>{class u{}return u.\u0275fac=function(D){return new(D||u)},u.\u0275mod=x.oAB({type:u}),u.\u0275inj=x.cJS({imports:[[b.ez,A.c8]]}),u})()},82817:(E,v,s)=>{s.d(v,{Y:()=>l});var r=s(81016),h=s(16355),d=s(4730);const y=Symbol("EXTERNAL_LIST_ID");let l=(()=>{class c{constructor(o,T){this.dnd=o,this.el=T,this.source=this.dnd.dragSource(null,{canDrag:e=>!this.spec||!this.spec.canDrag||this.spec.canDrag(void 0,void 0,e),beginDrag:()=>{if("function"!=typeof this.spec.createData)throw new Error("spec.createData must be a function");return{type:this.spec.type,data:this.spec.createData(),hover:{index:-1,listId:y},isInternal:!1,index:-1,listId:y,size:this.size()}},endDrag:e=>{const a=e.getItem();a&&this.spec&&this.spec.endDrag&&this.spec.endDrag(a,e)}})}size(){const o=this.el.nativeElement.getBoundingClientRect();return new r.$(o.width||o.right-o.left,o.height||o.bottom-o.top)}ngOnChanges(){this.source.setType(this.spec.type)}ngOnDestroy(){this.source.unsubscribe()}}return c.\u0275fac=function(o){return new(o||c)(h.Y36(d.fD),h.Y36(h.SBq))},c.\u0275dir=h.lG2({type:c,selectors:[["","dndSortableExternal",""]],inputs:{spec:["dndSortableExternal","spec"]},exportAs:["dndSortableExternal"],features:[h.TTD]}),c})()},43554:(E,v,s)=>{s.d(v,{J:()=>T});var r=s(16355),h=s(64365),d=s(97493),y=s(4730),l=s(22031);function c(e,a){1&e&&r.GkF(0)}const S=function(e){return{$implicit:e}};function o(e,a){if(1&e&&(r.ynx(0),r.YNc(1,c,1,0,"ng-container",1),r.BQk()),2&e){const t=a.$implicit,i=a.index,n=r.oxw();r.xp6(1),r.Q6J("ngTemplateOutlet",n.template)("ngTemplateOutletContext",r.VKq(2,S,n.contextFor(t,i)))}}let T=(()=>{class e extends d.B{constructor(t,i,n){super(t,i,n),this.template=null,this.trackById=(p,B)=>this.spec&&this.spec.trackBy(B)}set renderTemplates(t){t.length>0&&(this.template=t.first)}ngAfterContentInit(){if(!this.template)throw new Error('You must provide a <ng-template cardTemplate> as a content child, or with [template]="myTemplateRef"')}ngOnChanges(t){super.ngOnChanges(t)}ngOnInit(){super.ngOnInit()}ngAfterViewInit(){super.ngAfterViewInit()}ngOnDestroy(){super.ngOnDestroy()}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(y.fD),r.Y36(r.SBq),r.Y36(r.sBO))},e.\u0275cmp=r.Xpm({type:e,selectors:[["dnd-sortable-list"]],contentQueries:function(t,i,n){if(1&t&&r.Suo(n,h.S,4,r.Rgc),2&t){let p;r.iGM(p=r.CRH())&&(i.renderTemplates=p)}},inputs:{template:"template"},features:[r._Bn([{provide:d.B,useExisting:e}]),r.qOj,r.TTD],decls:1,vars:2,consts:[[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,i){1&t&&r.YNc(0,o,2,4,"ng-container",0),2&t&&r.Q6J("ngForOf",i.children)("ngForTrackBy",i.trackById)},directives:[l.sg,l.tP],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0}),e})()},48307:(E,v,s)=>{s.d(v,{U:()=>T});var r=s(40245),h=s(81016);function d(e,a,t,i){const{hover:n}=a,C=(e.horizontal?i.x:i.y)<(e.horizontal?t.left:t.top)+(e.horizontal?t.width||t.right-t.left:t.height||t.bottom-t.top)/2;let x;return x=e.listId===n.listId?e.index<n.index?C?e.index:e.index+1:C?e.index-1:e.index:C?e.index:e.index+1,x}function y(e){return e.index}var c=s(16355),S=s(4730);const o=requestAnimationFrame||(e=>setTimeout(e,0));let T=(()=>{class e{constructor(t,i){this.dnd=t,this.el=i,this.subs=new r.w0,this.sameIds=(n,p)=>n&&p.data&&this.spec.trackBy(n)===this.spec.trackBy(p.data),this.target=this.dnd.dropTarget(null,{canDrop:()=>!1,hover:n=>{this.hover(n)}},this.subs),this.source=this.dnd.dragSource(null,{canDrag:n=>this.getCanDrag(n),isDragging:n=>this.isDragging(n.getItem()),beginDrag:n=>{const p=this.createItem();return this.spec&&this.spec.beginDrag&&o(()=>{this.spec&&this.spec.beginDrag&&this.spec.beginDrag(p,n)}),p},endDrag:n=>{const p=n.getItem();p&&this.spec&&this.spec.endDrag&&this.spec.endDrag(p,n)}},this.subs),this.isDragging$=this.source.listen(n=>n.isDragging())}get data(){return this.context.data}get index(){return this.context.index}get type(){return this.context.spec&&this.context.spec.type}get listId(){return this.context.listId}get accepts(){const t=this.context.spec;return t?Array.isArray(t.accepts)?t.accepts:t.accepts||t.type:[]}get spec(){return this.context.spec}createItem(){return{data:this.data,index:this.index,size:this.size(),type:this.type,isInternal:!0,listId:this.listId,hover:{index:this.index,listId:this.listId}}}getCanDrag(t){return!this.spec||!this.spec.canDrag||this.spec.canDrag(this.data,this.listId,t)}isDragging(t){return this.spec&&this.spec.isDragging?t&&this.spec.isDragging(this.data,t)||!1:t&&this.sameIds(this.data,t)||!1}hover(t){const i=t.getItem(),n=t.getClientOffset();if(null==i||null==n||this.isDragging(i)&&this.index===i.hover.index&&this.listId===i.hover.listId)return;const{hover:p}=i,b=function l(e){return e===h.S.fixed?y:d}(this.context.hoverTrigger)(this.context,i,this.rect(),n);if(b<0)throw new Error("@ng-dnd/sortable: Cannot move a card to an index < 0.");if(b!==p.index||this.listId!==p.listId){if(i.hover={index:b,listId:this.listId},this.spec&&this.spec.canDrop&&!this.spec.canDrop(i,t))return;this.spec&&this.spec.hover&&this.spec.hover(Object.assign({},i),t)}}rect(){if(!this.el)throw new Error("@ng-dnd/sortable: [dndSortableRender] expected to be attached to a real DOM element");return this.el.nativeElement.getBoundingClientRect()}size(){const t=this.rect();return new h.$(t.width||t.right-t.left,t.height||t.bottom-t.top)}ngOnChanges(){this.target.setTypes(this.accepts),this.source.setType(this.type)}ngOnInit(){this.target.setTypes(this.accepts),this.source.setType(this.type)}ngAfterViewInit(){this.el&&this.target.connectDropTarget(this.el.nativeElement)}ngOnDestroy(){this.subs.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(c.Y36(S.fD),c.Y36(c.SBq))},e.\u0275dir=c.lG2({type:e,selectors:[["","dndSortableRender",""]],inputs:{context:["dndSortableRender","context"]},exportAs:["dndSortableRender"],features:[c.TTD]}),e})()},97493:(E,v,s)=>{s.d(v,{B:()=>S});var r=s(84985),h=s(40245),d=s(81016),l=s(16355),c=s(4730);let S=(()=>{class o{constructor(e,a,t){this.dnd=e,this.el=a,this.cdr=t,this.listId=Math.random().toString(),this.horizontal=!1,this.hoverTrigger=d.S.halfway,this.childrenSubject$=new r.X([]),this.children$=this.childrenSubject$,this.subs=new h.w0,this.listSubs=new h.w0,this.target=this.dnd.dropTarget(null,{canDrop:i=>{if(!this.acceptsType(i.getItemType()))return!1;const n=i.getItem();return!!n&&this.getCanDrop(n,i)},drop:i=>{const n=i.getItem();return n&&this.getCanDrop(n,i)&&this.spec&&this.spec.drop&&this.spec.drop(n,i),{}},hover:i=>{const n=i.getItem();this.children&&function y(o){for(const T of o)return!1;return!0}(this.children)&&n&&this.getCanDrop(n,i)&&i.isOver({shallow:!0})&&this.callHover(n,i,{listId:this.listId,index:0})}},this.subs)}updateSubscription(){if(null!=this.listId&&this.spec&&(this.listSubs&&(this.subs.remove(this.listSubs),this.listSubs.unsubscribe()),this.spec.getList)){const a=this.spec.getList(this.listId);this.listSubs=a&&a.subscribe(t=>{t&&(this.childrenSubject$.next(t),this.children=t,this.cdr.markForCheck())}),this.subs.add(this.listSubs)}}contextFor(e,a){return{data:e,index:a,listId:this.listId,spec:this.spec,horizontal:this.horizontal,hoverTrigger:this.hoverTrigger}}getCanDrop(e,a,t=!0){return this.spec&&this.spec.canDrop?this.spec.canDrop(e,a):t}callHover(e,a,t){t&&(e.hover=t,e=Object.assign({},e)),this.spec&&this.spec.hover&&this.spec.hover(e,a)}ngOnInit(){this.updateSubscription(),this.target.setTypes(this.getTargetType())}getTargetType(){return Array.isArray(this.spec.accepts)?this.spec.accepts:this.spec.accepts||this.spec.type}acceptsType(e){return null!=e&&(Array.isArray(this.spec.accepts)?-1!==this.spec.accepts.indexOf(e):e==this.getTargetType())}ngOnChanges({spec:e,listId:a}){a&&this.updateSubscription(),e&&this.updateSubscription(),this.target.setTypes(this.getTargetType())}ngAfterViewInit(){if(!this.el)throw new Error("dndSortable directive must have ElementRef");this.target.connectDropTarget(this.el.nativeElement)}ngOnDestroy(){this.subs.unsubscribe()}}return o.\u0275fac=function(e){return new(e||o)(l.Y36(c.fD),l.Y36(l.SBq),l.Y36(l.sBO))},o.\u0275dir=l.lG2({type:o,selectors:[["","dndSortable",""]],inputs:{listId:"listId",horizontal:"horizontal",spec:"spec",children:"children",hoverTrigger:"hoverTrigger"},exportAs:["dndSortable"],features:[l.TTD]}),o})()},64365:(E,v,s)=>{s.d(v,{S:()=>h});var r=s(16355);let h=(()=>{class d{}return d.\u0275fac=function(l){return new(l||d)},d.\u0275dir=r.lG2({type:d,selectors:[["","dndSortableTemplate",""]]}),d})()},81016:(E,v,s)=>{s.d(v,{$:()=>r,S:()=>h});class r{constructor(y,l){this.width=y,this.height=l}style(){return{width:this.width+"px",height:this.height+"px"}}}var h=(()=>{return(d=h||(h={})).halfway="halfway",d.fixed="fixed",h;var d})()}}]);