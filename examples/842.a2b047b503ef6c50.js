"use strict";(self.webpackChunkexamples=self.webpackChunkexamples||[]).push([[842],{10461:(H,g,a)=>{a.r(g),a.d(g,{routes:()=>A});var v,_,F=a(87567),l=a(54739),h=a(62414),w=a(1574),f=a(44387),p=a(7335),c=function(e){return e.Math="Math",e.Name="Name",e}(c||{});let d=(()=>{class e{static#t=v=p.lE;constructor(n,i,s){this.id=n,this.question=i,this.answer=s,this[v]=!0,this.formType=c.Math,this.templateDescription=e.templateDescription}static#e=this.templateDescription="Math question"}return e})(),C=(()=>{class e{static#t=_=p.lE;constructor(n){this.id=n,this[_]=!0,this.formType=c.Name,this.templateDescription=e.templateDescription}static#e=this.templateDescription="Name and student ID"}return e})();var o=a(93779),t=a(81072);function x(e,r){1&e&&(t.j41(0,"div"),t.EFF(1," That's not quite right. "),t.k0s())}function E(e,r){1&e&&(t.j41(0,"div"),t.EFF(1,"Correct!"),t.k0s())}function b(e,r){if(1&e&&(t.j41(0,"div",8),t.DNE(1,x,2,0,"div",9)(2,E,2,0,"div",9),t.k0s()),2&e){const n=r.ngIf;t.R7$(),t.Y8G("ngIf",n.invalid&&(n.touched||n.dirty)&&(null==n.errors?null:n.errors.incorrect)),t.R7$(),t.Y8G("ngIf",n.valid)}}function T(e,r){if(1&e&&(t.j41(0,"div")(1,"h4"),t.EFF(2),t.k0s(),t.j41(3,"form",5),t.nrm(4,"input",6),t.DNE(5,b,3,2,"div",7),t.k0s()()),2&e){const n=t.XpG().$implicit,i=t.XpG();t.R7$(2),t.JRh(i.getQuestion(n)),t.R7$(),t.Y8G("formGroup",n.input),t.R7$(2),t.Y8G("ngIf",n.input.get("answer"))}}function S(e,r){1&e&&(t.j41(0,"div"),t.EFF(1," Please enter a student ID in the form 's1234'. "),t.k0s())}function G(e,r){if(1&e&&(t.j41(0,"div",8),t.DNE(1,S,2,0,"div",9),t.k0s()),2&e){const n=r.ngIf;t.R7$(),t.Y8G("ngIf",n.invalid&&(n.touched||n.dirty)&&(null==n.errors?null:n.errors.pattern))}}function I(e,r){if(1&e&&(t.j41(0,"div")(1,"h4"),t.EFF(2,"Enter your Name and Student Id"),t.k0s(),t.j41(3,"form",5)(4,"label"),t.EFF(5," Name "),t.nrm(6,"input",10),t.k0s(),t.j41(7,"label"),t.EFF(8," Student ID "),t.nrm(9,"input",11),t.k0s(),t.DNE(10,G,2,1,"div",7),t.k0s()()),2&e){const n=t.XpG().$implicit;t.R7$(3),t.Y8G("formGroup",n.input),t.R7$(7),t.Y8G("ngIf",n.input.get("studentId"))}}function k(e,r){if(1&e&&(t.j41(0,"div",2),t.qex(1,3),t.DNE(2,T,6,3,"div",4)(3,I,11,2,"div",4),t.bVm(),t.k0s()),2&e){const n=r.$implicit;t.R7$(),t.Y8G("ngSwitch",n.question.formType),t.R7$(),t.Y8G("ngSwitchCase","Math"),t.R7$(),t.Y8G("ngSwitchCase","Name")}}const M=e=>r=>r.value===e?null:{incorrect:!0};let j=(()=>{class e{constructor(){this.sections=[]}set formElements(n){this.sections=n.map(i=>({question:i,input:this.getFormGroup(i)}))}getFormGroup(n){switch(n.formType){case c.Math:return new o.gE({answer:new o.MJ(null,[o.k0.required,M(n.answer)])});case c.Name:return new o.gE({name:new o.MJ(null,[o.k0.required]),studentId:new o.MJ(null,[o.k0.required,o.k0.pattern(/^s\d{4}$/)])})}}getQuestion(n){return n.question.question}static#t=this.\u0275fac=function(i){return new(i||e)};static#e=this.\u0275cmp=t.VBU({type:e,selectors:[["app-printout"]],inputs:{formElements:"formElements"},standalone:!0,features:[t.aNF],decls:2,vars:1,consts:[[1,"printout-page"],["class","printout-elem",4,"ngFor","ngForOf"],[1,"printout-elem"],[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"formGroup"],["formControlName","answer","type","number"],["class","alert alert-danger",4,"ngIf"],[1,"alert","alert-danger"],[4,"ngIf"],["formControlName","name"],["formControlName","studentId"]],template:function(i,s){1&i&&(t.j41(0,"div",0),t.DNE(1,k,4,3,"div",1),t.k0s()),2&i&&(t.R7$(),t.Y8G("ngForOf",s.sections))},dependencies:[l.bT,l.pM,l.ux,l.e1,o.X1,o.qT,o.me,o.Q0,o.BC,o.cb,o.j4,o.JD],styles:[".ng-valid[_ngcontent-%COMP%]:not(form){border-left:5px solid #42a948}.ng-invalid[_ngcontent-%COMP%]:not(form){border-left:5px solid #a94442}"]})}return e})();function y(e,r){1&e&&t.nrm(0,"input",4)}let N=(()=>{class e{constructor(){this.edit=new t.bkB}ngOnChanges(){this.form=new o.gE({question:new o.MJ(this.data.question),answer:new o.MJ(this.data.answer)})}onSubmit(){this.edit.emit(new d(this.data.id,this.form.get("question")?.value,this.form.get("answer")?.value))}static#t=this.\u0275fac=function(i){return new(i||e)};static#e=this.\u0275cmp=t.VBU({type:e,selectors:[["app-math-form"]],inputs:{data:"data"},outputs:{edit:"edit"},standalone:!0,features:[t.OA$,t.aNF],decls:11,vars:2,consts:[[3,"ngSubmit","formGroup"],["placeholder","Add a card","formControlName","question",1,"title"],["type","number","formControlName","answer",1,"amount"],["type","submit","value","Save question",4,"ngIf"],["type","submit","value","Save question"]],template:function(i,s){1&i&&(t.j41(0,"form",0),t.bIt("ngSubmit",function(){return s.onSubmit()}),t.j41(1,"div")(2,"label"),t.EFF(3," Question: "),t.nrm(4,"input",1),t.k0s()(),t.j41(5,"div")(6,"label"),t.EFF(7," Answer: "),t.nrm(8,"input",2),t.k0s()(),t.j41(9,"div"),t.DNE(10,y,1,0,"input",3),t.k0s()()),2&i&&(t.Y8G("formGroup",s.form),t.R7$(10),t.Y8G("ngIf",s.form.dirty))},dependencies:[o.X1,o.qT,o.me,o.Q0,o.BC,o.cb,o.j4,o.JD,l.bT],encapsulation:2})}return e})();var m=a(90789);function P(e,r){if(1&e){const n=t.RV6();t.j41(0,"app-math-form",5),t.bIt("edit",function(s){t.eBV(n);const u=t.XpG();return t.Njj(u.edit.emit(s))}),t.k0s()}if(2&e){const n=t.XpG();t.Y8G("data",n.getMathQuestion())}}function R(e,r){1&e&&(t.j41(0,"div"),t.EFF(1,"Student enters their name/student id"),t.k0s())}let $=(()=>{class e{getMathQuestion(){return this.question}constructor(n){this.render=n,this.preview=!1,this.edit=new t.bkB}static#t=this.\u0275fac=function(i){return new(i||e)(t.rXU(f.eP,8))};static#e=this.\u0275cmp=t.VBU({type:e,selectors:[["quiz-section"]],inputs:{question:"question",preview:"preview"},outputs:{edit:"edit"},standalone:!0,features:[t.aNF],decls:7,vars:12,consts:[[1,"section",3,"dragPreview"],[1,"section-handle",3,"dragSource","noHTML5Preview"],[1,"section-content",3,"ngSwitch"],[3,"data","edit",4,"ngSwitchCase"],[4,"ngSwitchCase"],[3,"edit","data"]],template:function(i,s){1&i&&(t.j41(0,"div",0),t.nI1(1,"async"),t.j41(2,"span",1),t.EFF(3," \u2630 "),t.k0s(),t.j41(4,"div",2),t.DNE(5,P,1,1,"app-math-form",3)(6,R,2,0,"div",4),t.k0s()()),2&i&&(t.AVh("section--placeholder",t.bMT(1,10,null==s.render?null:s.render.isDragging$))("section--preview",s.preview),t.Y8G("dragPreview",null==s.render?null:s.render.source),t.R7$(2),t.Y8G("dragSource",null==s.render?null:s.render.source)("noHTML5Preview",!0),t.R7$(2),t.Y8G("ngSwitch",s.question.formType),t.R7$(),t.Y8G("ngSwitchCase","Math"),t.R7$(),t.Y8G("ngSwitchCase","Name"))},dependencies:[h.JG,m.LQ,m.uN,l.ux,l.e1,N,l.Jj],styles:["[_nghost-%COMP%]{display:block}.section[_ngcontent-%COMP%]{min-width:0;width:100%;max-width:300px;color:#1111a7;background:#e2ecfa;display:flex}.section--preview[_ngcontent-%COMP%], [_nghost-%COMP%]:not(:last-child)   .section[_ngcontent-%COMP%]{border-bottom:1px solid #7593bf}.section-handle[_ngcontent-%COMP%]{cursor:move;color:#333;margin-right:4px}.section-handle[_ngcontent-%COMP%], .section-content[_ngcontent-%COMP%]{padding:6px}.section--placeholder[_ngcontent-%COMP%]{opacity:.4;background:#eee}"]})}return e})();var D=a(70897),Y=a(667),O=a(67984),q=a(68422),L=a(86283);function Q(e,r){if(1&e&&(t.qex(0),t.nrm(1,"quiz-section",15),t.bVm()),2&e){const n=t.XpG(2).item;t.R7$(),t.Y8G("question",n.data)("preview",!0)}}function B(e,r){if(1&e&&(t.j41(0,"div",16),t.EFF(1),t.k0s()),2&e){const n=t.XpG(2).item;t.Aen(n.size.style()),t.R7$(),t.SpI(" ",n.data.templateDescription," ")}}function V(e,r){if(1&e&&(t.qex(0),t.DNE(1,Q,2,2,"ng-container",14)(2,B,2,3,"ng-template",null,0,t.C5r),t.bVm()),2&e){const n=t.sdS(3),i=t.XpG().item;t.R7$(),t.Y8G("ngIf",i.isInternal||"WORK_AREA"===i.hover.listId)("ngIfElse",n)}}function X(e,r){1&e&&t.DNE(0,V,4,2,"ng-container",13),2&e&&t.Y8G("ngIf","QUIZ_QUESTION"===r.$implicit)}function U(e,r){if(1&e&&(t.j41(0,"div",17,1),t.EFF(2),t.k0s()),2&e){const n=r.$implicit,i=t.sdS(1);t.Y8G("dndSortableExternal",n.spec)("dragSource",i.source)("noHTML5Preview",!0),t.R7$(2),t.SpI(" ",n.description," ")}}function z(e,r){if(1&e){const n=t.RV6();t.j41(0,"quiz-section",18,2),t.bIt("edit",function(s){t.eBV(n);const u=t.XpG();return t.Njj(u.edit(s))}),t.k0s()}if(2&e){const n=r.$implicit,i=t.sdS(1);t.xc7("display","block"),t.Y8G("dndSortableRender",n)("question",i.data)}}let J=(()=>{class e{constructor(n){this.dnd=n,this.spill=(0,f.gh)(this.dnd,"QUIZ_QUESTION",{drop:i=>{i.isInternal&&(this.list=this.tempList=this.remove(i))}}),this.list=[new d(1,"What is 2+2?",4),new d(2,"What is the meaning of life?",42),new d(3,"What is 1137 mod 256?",113)],this.nextId=4,this.tempList=this.list,this.spec={type:"QUIZ_QUESTION",trackBy:i=>i.id,hover:i=>{this.tempList=this.move(i)},drop:i=>{this.tempList=this.list=this.move(i)},endDrag:i=>{this.tempList=this.list}},this.nameBlock={...this.spec,createData:()=>new C(this.nextId++)},this.mathQuestion={...this.spec,createData:()=>new d(this.nextId++,"New math question",0)},this.questionTemplates=[{spec:this.nameBlock,description:C.templateDescription},{spec:this.mathQuestion,description:d.templateDescription}]}move(n){return(0,p.jM)(this.list,i=>{n.isInternal&&i.splice(n.index,1),i.splice(n.hover.index,0,n.data)})}remove(n){return(0,p.jM)(this.list,i=>{i.splice(n.index,1)})}edit(n){const i=this.list.findIndex(s=>s.id===n.id);if(i>=0){const s=this.list.slice(0);s.splice(i,1,n),this.tempList=this.list=s}}ngOnDestroy(){this.spill.unsubscribe()}static#t=this.\u0275fac=function(i){return new(i||e)(t.rXU(h.E$))};static#e=this.\u0275cmp=t.VBU({type:e,selectors:[["app-external-sortable"]],standalone:!0,features:[t.aNF],decls:17,vars:6,consts:[["external",""],["ext","dndSortableExternal"],["r","dndSortableRender"],[3,"allBackends"],[1,"flex",3,"dropTarget"],[1,"templates"],[1,"templates-flex"],["class","external",3,"dndSortableExternal","dragSource","noHTML5Preview",4,"ngFor","ngForOf"],[1,"work-area"],["listId","WORK_AREA",1,"list",3,"spec","children"],[3,"display","dndSortableRender","question","edit",4,"dndSortableTemplate"],[1,"printout"],[3,"formElements"],[4,"ngIf"],[4,"ngIf","ngIfElse"],[3,"question","preview"],[1,"external"],[1,"external",3,"dndSortableExternal","dragSource","noHTML5Preview"],[3,"edit","dndSortableRender","question"]],template:function(i,s){1&i&&(t.j41(0,"dnd-preview",3),t.DNE(1,X,1,1,"ng-template"),t.k0s(),t.j41(2,"div",4)(3,"div",5)(4,"h3"),t.EFF(5,"Drag templates"),t.k0s(),t.j41(6,"div",6),t.DNE(7,U,3,4,"div",7),t.k0s()(),t.j41(8,"div",8)(9,"h3"),t.EFF(10,"...into here; edit them"),t.k0s(),t.j41(11,"dnd-sortable-list",9),t.DNE(12,z,2,4,"quiz-section",10),t.k0s()(),t.j41(13,"div",11)(14,"h3"),t.EFF(15,"... then try the quiz out"),t.k0s(),t.nrm(16,"app-printout",12),t.k0s()()),2&i&&(t.Y8G("allBackends",!0),t.R7$(2),t.Y8G("dropTarget",s.spill),t.R7$(5),t.Y8G("ngForOf",s.questionTemplates),t.R7$(4),t.Y8G("spec",s.spec)("children",s.tempList),t.R7$(5),t.Y8G("formElements",s.list))},dependencies:[h.JG,m.LQ,m.wu,f.p8,D.z,Y.r,O.e,q.Y,w._X,L.J,l.bT,l.pM,$,j],styles:["@media screen and (width >= 480px){.flex[_ngcontent-%COMP%]{display:flex}.flex[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{min-width:0;padding:4px}}h3[_ngcontent-%COMP%]{border-bottom:2px solid #dedede;padding-bottom:6px}.templates-flex[_ngcontent-%COMP%]{display:flex;align-items:flex-start;flex-direction:column}.external[_ngcontent-%COMP%]{background:#ffe5df;color:#ab4a30;padding:4px;margin-bottom:8px;border-top:2px solid #f9ede9;border-bottom:2px solid #efc5ba;min-width:0}"]})}return e})();const A=[{path:"",component:(()=>{class e{static#t=this.\u0275fac=function(i){return new(i||e)};static#e=this.\u0275cmp=t.VBU({type:e,selectors:[["quiz-container"]],standalone:!0,features:[t.aNF],decls:14,vars:0,consts:[["path","sortable/quiz"]],template:function(i,s){1&i&&(t.nrm(0,"app-example-link",0),t.j41(1,"p"),t.EFF(2," This example does the same list operations as the 'Simple list' example, but it does them with "),t.j41(3,"code"),t.EFF(4,"immer"),t.k0s(),t.EFF(5," just to shake things up. "),t.k0s(),t.j41(6,"p"),t.EFF(7," It also uses the "),t.j41(8,"code"),t.EFF(9,"[dndSortableExternal]"),t.k0s(),t.EFF(10," directive to allow dragging in items that aren't already managed by a list. "),t.k0s(),t.j41(11,"p"),t.EFF(12," It also uses a 'spillTarget', attached outside the work area, which allows the preview to morph as you drag templates over the work area and out again. "),t.k0s(),t.nrm(13,"app-external-sortable"))},dependencies:[F.G,J],encapsulation:2})}return e})()}]}}]);