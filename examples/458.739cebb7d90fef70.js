"use strict";(self.webpackChunkexamples=self.webpackChunkexamples||[]).push([[458],{35458:(b,r,a)=>{a.r(r),a.d(r,{BinsModule:()=>P});var o=a(17011),h=a(14595),p=a(4730),m=a(62359),d=a(10009),t=a(31385),u=a(59857),y=a(74967),l=a(10231);function f(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",1)(1,"p")(2,"b"),t._uU(3),t.qZA()(),t.TgZ(4,"p")(5,"button",2),t.NdJ("click",function(){t.CHM(e);const c=t.oxw();return t.KtG(c.empty())}),t._uU(6),t.qZA()(),t.TgZ(7,"pre"),t._uU(8),t.ALo(9,"json"),t.qZA()()}if(2&i){const e=s.ngIf,n=t.oxw();t.Q6J("dropTarget",n.trashTarget)("ngStyle",n.getStyles(e)),t.xp6(3),t.HOy(" ",e.canDrop?"drop "+e.itemType+" in the":""," ",e.isOver&&!n.hasCapacity?"cannot drop, ":""," ",n.name," ",n.hasCapacity?"":" is full!"," "),t.xp6(3),t.hij("empty ",n.name,""),t.xp6(2),t.Oqu(t.lcZ(9,8,n.trashes))}}let T=(()=>{class i{get hasCapacity(){return this.trashes.length<this.capacity}constructor(e){this.dnd=e,this.name="",this.accepts=["TRASH"],this.trashes=[],this.capacity=6,this.trashTarget=this.dnd.dropTarget(null,{canDrop:n=>this.hasCapacity,drop:n=>{const c=n.getItemType();this.trashes.unshift(c)}}),this.collected$=this.trashTarget.listen(n=>({isOver:n.isOver(),canDrop:n.canDrop(),itemType:n.getItemType()}))}getStyles({isOver:e,canDrop:n}){return{backgroundColor:e&&n?"#cfcffc":n?"#fffacf":"white"}}empty(){this.trashes=[]}ngOnInit(){this.trashTarget.setTypes(this.accepts)}ngOnDestroy(){this.trashTarget.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(p.fD))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-bin"]],inputs:{name:"name",accepts:"accepts"},decls:2,vars:3,consts:[["class","dustbin pad",3,"dropTarget","ngStyle",4,"ngIf"],[1,"dustbin","pad",3,"dropTarget","ngStyle"],[3,"click"]],template:function(e,n){1&e&&(t.YNc(0,f,10,10,"div",0),t.ALo(1,"async")),2&e&&t.Q6J("ngIf",t.lcZ(1,1,n.collected$))},dependencies:[o.O5,o.PC,l.Li,o.Ov,o.Ts]}),i})(),g=(()=>{class i{constructor(){this.type="",this.empty=!1,this.inFlight=!1}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-trash"]],inputs:{type:"type",empty:"empty",inFlight:"inFlight"},decls:3,vars:5,consts:[[1,"trash","pad"],[1,"type"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"span",1),t._uU(2),t.qZA()()),2&e&&(t.ekj("empty",n.empty)("in-flight",n.inFlight),t.xp6(2),t.Oqu(n.type))},styles:[".trash[_ngcontent-%COMP%]{background:#ffccff}.empty[_ngcontent-%COMP%]{background:#eee}.empty[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]{visibility:hidden}.in-flight[_ngcontent-%COMP%]{width:100px;background-clip:padding-box;border:2px solid rgba(0,0,0,.1)}"],changeDetection:0}),i})();function C(i,s){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"p")(2,"button",1),t.NdJ("click",function(){t.CHM(e);const c=t.oxw();return t.KtG(c.litter())}),t._uU(3,"add more"),t.qZA(),t.TgZ(4,"span"),t._uU(5),t.qZA()(),t.TgZ(6,"div",2),t._UZ(7,"app-trash",3),t.qZA(),t.BQk()}if(2&i){const e=s.ngIf,n=t.oxw();t.xp6(5),t.hij("(",n.remain," left)"),t.xp6(1),t.ekj("dragging",e.isDragging&&n.remain>1),t.Q6J("dragSource",n.trashSource),t.xp6(1),t.Q6J("type",n.type)("empty",0===n.remain||e.isDragging&&1===n.remain)}}let Z=(()=>{class i{constructor(e){this.dnd=e,this.type="",this.remain=5,this.count=0,this.trashSource=this.dnd.dragSource(null,{canDrag:n=>this.remain>0,beginDrag:n=>({count:this.count++}),endDrag:n=>{n.didDrop()&&this.remain--}}),this.isDragging$=this.trashSource.listen(n=>n.isDragging()),this.collected$=this.trashSource.listen(n=>({isDragging:n.isDragging(),canDrag:n.canDrag(),itemType:n.getItemType()}))}ngOnChanges(){this.trashSource.setType(this.type)}ngOnDestroy(){this.trashSource.unsubscribe()}litter(){this.remain+=5}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(p.fD))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-trash-pile"]],inputs:{type:"type"},features:[t.TTD],decls:2,vars:3,consts:[[4,"ngIf"],[3,"click"],[3,"dragSource"],[3,"type","empty"]],template:function(e,n){1&e&&(t.YNc(0,C,8,6,"ng-container",0),t.ALo(1,"async")),2&e&&t.Q6J("ngIf",t.lcZ(1,1,n.collected$))},dependencies:[o.O5,l.$d,g,o.Ov]}),i})();function v(i,s){1&i&&t._UZ(0,"app-trash",7),2&i&&t.Q6J("type",s.$implicit)("inFlight",!0)}const x=function(){return["PAPER","ENVELOPE"]},O=function(){return["PARCEL","ENVELOPE"]};let _=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["ng-component"]],decls:19,vars:4,consts:[["path","bins"],[1,"bins"],["type","PAPER"],["type","ENVELOPE"],["type","PARCEL"],["name","recycle",3,"accepts"],["name","mailbox",3,"accepts"],[3,"type","inFlight"]],template:function(e,n){1&e&&(t._UZ(0,"app-example-link",0),t.TgZ(1,"p"),t._uU(2,"This example demonstrates:"),t.qZA(),t.TgZ(3,"ul")(4,"li"),t._uU(5,"Making components conditionally draggable"),t.qZA(),t.TgZ(6,"li"),t._uU(7,"Making targets conditionally available for drops"),t.qZA(),t.TgZ(8,"li"),t._uU(9,"How drop targets can accept different item types"),t.qZA()(),t.TgZ(10,"dnd-preview"),t.YNc(11,v,1,2,"ng-template"),t.qZA(),t.TgZ(12,"div",1),t._UZ(13,"app-trash-pile",2)(14,"app-trash-pile",3)(15,"app-trash-pile",4),t.qZA(),t.TgZ(16,"div",1),t._UZ(17,"app-bin",5)(18,"app-bin",6),t.qZA()),2&e&&(t.xp6(17),t.Q6J("accepts",t.DdM(2,x)),t.xp6(1),t.Q6J("accepts",t.DdM(3,O)))},dependencies:[u.S,y.Z,T,Z,g],styles:[".bins[_ngcontent-%COMP%]{margin-top:20px;display:flex}.bins[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:1;min-width:100px}.bins[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(:last-child){margin-right:4px}"]}),i})(),P=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[o.ez,p.c8,m.XJ,h.Bz.forChild([{path:"",component:_}]),d.g]}),i})()}}]);