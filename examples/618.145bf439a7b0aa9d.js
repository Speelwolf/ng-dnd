"use strict";(self.webpackChunkexamples=self.webpackChunkexamples||[]).push([[618],{79618:(N,d,r)=>{r.r(d),r.d(d,{routes:()=>kt});var c=r(93054),u=r(28144),t=r(45673);class P{constructor(){this.$implicit=null,this.ngLet=null}}let f=(()=>{class e{set ngLet(n){this._context.$implicit=this._context.ngLet=n}constructor(n,o){this._vcr=n,this._templateRef=o,this._context=new P}ngOnInit(){this._vcr.createEmbeddedView(this._templateRef,this._context)}static#t=this.\u0275fac=function(o){return new(o||e)(t.Y36(t.s_b),t.Y36(t.Rgc))};static#n=this.\u0275dir=t.lG2({type:e,selectors:[["","ngLet",""]],inputs:{ngLet:"ngLet"},standalone:!0})}return e})();var p=r(47613);var C=r(56301);let U=(()=>{class e{constructor(n){this.dnd=n,this.beginDrag=new t.vpe,this.endDrag=new t.vpe,this.source=this.dnd.dragSource("EMAIL",{beginDrag:()=>(this.beginDrag.emit(),{}),endDrag:()=>{this.endDrag.emit()}}),this.opacity=this.source.listen(o=>o.isDragging()?.4:1)}ngOnDestroy(){this.source.unsubscribe()}static#t=this.\u0275fac=function(o){return new(o||e)(t.Y36(p.fD))};static#n=this.\u0275cmp=t.Xpm({type:e,selectors:[["drilldown-source"]],outputs:{beginDrag:"beginDrag",endDrag:"endDrag"},standalone:!0,features:[t.jDz],decls:4,vars:5,consts:[[3,"dragSource"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0),t.ALo(1,"async"),t.TgZ(2,"p"),t._uU(3,"Drag this!"),t.qZA()()),2&o&&(t.Udp("opacity",t.lcZ(1,3,i.opacity)),t.Q6J("dragSource",i.source))},dependencies:[p.c8,C.$d,c.Ov],styles:["div[_ngcontent-%COMP%]{border:1px dashed #777;background:#fff;padding:.5rem 1rem;margin-bottom:.5rem;background-color:#fff;width:8rem}div[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{display:inline-block;padding:3px;margin:0}"]})}return e})();var m=r(47946),D=r(78611),y=r(46099),O=r(19249),G=r(96377),R=r(56656);const A=new(r(6989).v)(R.o),Y=A;var j=r(11832),v=r(40995),B=r(63147),Q=r(21531),K=r(21066),T=r(51599);function Z(e,s){return s?n=>(0,j.z)(s.pipe((0,v.q)(1),(0,B.l)()),n.pipe(Z(e))):(0,K.z)((n,o)=>(0,T.Xf)(e(n,o)).pipe((0,v.q)(1),(0,Q.h)(n)))}var k=r(97815),z=r(32042);function W(e,s=A){const n=function H(e=0,s,n=Y){let o=-1;return null!=s&&((0,z.K)(s)?n=s:o=s),new k.y(i=>{let a=function X(e){return e instanceof Date&&!isNaN(e)}(e)?+e-n.now():e;a<0&&(a=0);let x=0;return n.schedule(function(){i.closed||(i.next(x++),0<=o?this.schedule(void 0,o):i.complete())},a)})}(e,s);return Z(()=>n)}var V=r(74146);class S{constructor(s,n){this.type=s,this.item=n}}var q=r(34106),tt=r(56371),nt=r(19706),et=r(54871),h=r(41635),ot=r(5849);const it={connector:()=>new D.x};function ct(e,s,n,o){n&&!(0,h.m)(n)&&(o=n);const i=(0,h.m)(n)?n:void 0;return a=>function at(e,s){const n=(0,h.m)(e)?e:()=>e;return(0,h.m)(s)?function rt(e,s=it){const{connector:n}=s;return(0,ot.e)((o,i)=>{const a=n();(0,T.Xf)(e(function st(e){return new k.y(s=>e.subscribe(s))}(a))).subscribe(i),i.add(o.subscribe(a))})}(s,{connector:n}):o=>new et.c(o,n)}(new nt.t(e,s,o),i)(a)}var lt=r(12406),pt=r(66359);const b="BEGIN_DRAG",L="END_DRAG",$="OPEN_TRANSIENT",M="DROP",w="TOGGLE";class dt{constructor(){this.type=b}}class gt{constructor(){this.type=L}}class ht{constructor(s){this.keys=s,this.type=$}}class ut{constructor(s){this.keys=s,this.type=M}}class ft{constructor(s){this.keys=s,this.type=w}}const F={structure:{Infraction:{Anecdotal:{Clumsily:{},Megalomaniac:{},Neurotic:{}},Basilica:{Salivate:{}},Candid:{Granada:{}}},Magnanimous:{Jalape\u00f1o:{Poppers:{}},Jalape\u00f1o2:{Poppers3:{}}},Byzantine:{Fault:{Tolerance:{}},Armadillo:{Farming:{}}}},open:{Infraction:!0,"Infraction.Basilica":!0,"Infraction.Basilica.Salivate":!0},preDragOpen:{}};let E=(()=>{class e{constructor(){this.actions$=new pt.X({type:"@@init"}),this.store$=this.actions$.pipe((0,q.R)(e.reducer,F),(0,tt.O)(F),ct(),(0,lt.x)())}static makeKey(n){return n.join(".")}static toggleSingle(n,o){const i=e.makeKey(o);return Object.assign({},n,{[i]:!n[i]})}static openAllAncestors(n,o){n={...n};for(let i=0;i<o.length;i++)n[e.makeKey(o.slice(0,i+1))]=!0;return n}static reducer(n,o){switch(o.type){case b:return{...n,preDragOpen:n.open};case L:return{...n,open:n.preDragOpen};case $:return{...n,open:e.openAllAncestors(n.preDragOpen,o.keys)};case M:return{...n,lastDrop:o.keys};case w:return{...n,open:e.toggleSingle(n.open,o.keys)};default:return n}}static recursiveGet(n,o){return 0===o.length?n:e.recursiveGet(n[o[0]],o.slice(0).splice(1))}select(n){return this.store$.pipe((0,m.U)(n),(0,y.x)())}isOpen(n){return this.select(o=>null==n||0===n.length||o.open[e.makeKey(n)])}getChildren(n){return this.select(o=>o).pipe((0,m.U)(o=>{const i=e.recursiveGet(o.structure,n);return Object.keys(i).sort()}))}beginDrag(){this.actions$.next(new dt)}endDrag(){this.actions$.next(new gt)}toggle(n){this.actions$.next(new ft(n))}openTransient(n){this.actions$.next(new ht(n))}drop(n){this.actions$.next(new ut(n))}static#t=this.\u0275fac=function(o){return new(o||e)};static#n=this.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac})}return e})();const I=function(e){return[e]};function mt(e,s){if(1&e&&t._UZ(0,"drilldown-folder",3),2&e){const n=s.$implicit,o=t.oxw(2);t.Q6J("keys",o.keys.concat(t.VKq(1,I,n)))}}function yt(e,s){if(1&e&&(t.ynx(0),t.TgZ(1,"ul"),t.ALo(2,"async"),t.YNc(3,mt,1,3,"drilldown-folder",2),t.ALo(4,"async"),t.qZA(),t.BQk()),2&e){const n=t.oxw();t.xp6(1),t.ekj("has-children",t.lcZ(2,4,n.anyChildren$)),t.xp6(2),t.Q6J("ngForOf",t.lcZ(4,6,n.children$))("ngForTrackBy",n.tracker)}}function vt(e,s){if(1&e&&(t.TgZ(0,"b"),t._uU(1),t.qZA()),2&e){const n=t.oxw(2);t.xp6(1),t.hij("",n.ownKey," ...")}}function xt(e,s){if(1&e&&t._uU(0),2&e){const n=t.oxw(2);t.hij(" ",n.ownKey," ")}}function Ct(e,s){if(1&e&&t._UZ(0,"drilldown-folder",3),2&e){const n=s.$implicit,o=t.oxw(3);t.Q6J("keys",o.keys.concat(t.VKq(1,I,n)))}}function Dt(e,s){if(1&e&&(t.TgZ(0,"ul"),t.ALo(1,"async"),t.YNc(2,Ct,1,3,"drilldown-folder",2),t.ALo(3,"async"),t.qZA()),2&e){const n=t.oxw(2);t.ekj("root",0===n.keys.length)("has-children",t.lcZ(1,6,n.anyChildren$)),t.xp6(2),t.Q6J("ngForOf",t.lcZ(3,8,n.children$))("ngForTrackBy",n.tracker)}}function Ot(e,s){if(1&e){const n=t.EpF();t.TgZ(0,"li"),t.ALo(1,"async"),t.ALo(2,"async"),t.ALo(3,"async"),t.TgZ(4,"div",4),t.NdJ("click",function(){t.CHM(n);const i=t.oxw();return t.KtG(i.toggle())}),t.YNc(5,vt,2,1,"b",0),t.ALo(6,"async"),t.YNc(7,xt,1,1,"ng-template",null,5,t.W1O),t.qZA(),t.YNc(9,Dt,4,10,"ul",6),t.ALo(10,"async"),t.qZA()}if(2&e){const n=t.MAs(8),o=t.oxw();t.ekj("root",0===o.keys.length)("is-open",t.lcZ(1,12,o.isOpen$))("is-over",t.lcZ(2,14,o.isOver$))("has-children",t.lcZ(3,16,o.anyChildren$)),t.xp6(4),t.Q6J("dropTarget",o.target),t.xp6(1),t.Q6J("ngIf",t.lcZ(6,18,o.anyChildren$))("ngIfElse",n),t.xp6(4),t.Q6J("ngIf",t.lcZ(10,20,o.isOpen$))}}let At=(()=>{class e{get ownKey(){return 0===this.keys.length?"<root>":this.keys[this.keys.length-1]}constructor(n,o,i){this.tree=n,this.dnd=o,this.ngZone=i,this.keys=[],this.target=function _(e,s,n,o){const i=new D.x,a=e.dropTarget(s,{...o,hover:l=>{i.next(new S(l.getItemType(),l.getItem())),o.hover&&o.hover(l)}}),x=a.listen(l=>l.isOver()&&l.canDrop()).pipe((0,y.x)(),(0,O.h)(l=>l)),bt=a.listen(l=>l.isOver()).pipe((0,y.x)(),(0,O.h)(l=>!1===l)),Lt=x.pipe((0,G.c)(i.pipe(W(n),(0,V.R)(bt),(0,v.q)(1)))).subscribe(o.onActivate);return a.add(Lt),a}(this.dnd,"EMAIL",600,{onActivate:a=>{this.tree.openTransient(this.keys)},drop:a=>{this.tree.drop(this.keys)}}),this.isOver$=this.target.listen(a=>a.isOver()&&a.canDrop())}ngOnInit(){this.children$=this.tree.getChildren(this.keys),this.anyChildren$=this.children$.pipe((0,m.U)(n=>n&&n.length>0)),this.isOpen$=this.tree.isOpen(this.keys)}tracker(n,o){return o}toggle(){this.tree.toggle(this.keys)}ngOnDestroy(){this.target.unsubscribe()}static#t=this.\u0275fac=function(o){return new(o||e)(t.Y36(E),t.Y36(p.fD),t.Y36(t.R0b))};static#n=this.\u0275cmp=t.Xpm({type:e,selectors:[["drilldown-folder"]],inputs:{keys:"keys"},standalone:!0,features:[t.jDz],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["node",""],[3,"keys",4,"ngFor","ngForOf","ngForTrackBy"],[3,"keys"],[3,"dropTarget","click"],["leaf",""],[3,"root","has-children",4,"ngIf"]],template:function(o,i){if(1&o&&(t.YNc(0,yt,5,8,"ng-container",0),t.YNc(1,Ot,11,22,"ng-template",null,1,t.W1O)),2&o){const a=t.MAs(2);t.Q6J("ngIf",0===i.keys.length)("ngIfElse",a)}},dependencies:[e,c.O5,c.ax,p.c8,C.Li,c.Ov],styles:['[_nghost-%COMP%]     *{margin:0;padding:0}[_nghost-%COMP%]     li.has-children{background:lightgoldenrodyellow;cursor:pointer}[_nghost-%COMP%]     li:not(.has-children){cursor:initial}[_nghost-%COMP%]     li.has-children>div:hover, [_nghost-%COMP%]     li.is-over>div{background:#d1c072}[_nghost-%COMP%]     ul{margin:0 0 0 20px;list-style:none;line-height:2em;font-family:Arial,sans-serif}[_nghost-%COMP%]     li{position:relative;list-style:none;font-size:16px}[_nghost-%COMP%]     li:before{position:absolute;left:-15px;top:0;content:"";display:block;border-left:1px solid #444;height:1em;border-bottom:1px solid #444;width:10px}[_nghost-%COMP%]     li:after{position:absolute;left:-15px;bottom:-7px;content:"";display:block;border-left:1px solid #444;height:100%}[_nghost-%COMP%]     li.root{margin:0 0 0 -20px}[_nghost-%COMP%]     li.root:before{display:none}[_nghost-%COMP%]     li.root:after{display:none}[_nghost-%COMP%]     li:last-child:after{display:none}'],changeDetection:0})}return e})();function Tt(e,s){if(1&e&&(t.TgZ(0,"p"),t._uU(1," Last dropped on "),t.TgZ(2,"code"),t._uU(3),t.qZA()()),2&e){const n=s.ngLet;t.xp6(3),t.hij(" ",n?n.join(" > "):"(never)"," ")}}const Zt=function(){return[]},kt=[{path:"",component:(()=>{class e{constructor(n){this.tree=n,this.lastDrop$=this.tree.select(o=>o.lastDrop)}beginDrag(){this.tree.beginDrag()}endDrag(){this.tree.endDrag()}static#t=this.\u0275fac=function(o){return new(o||e)(t.Y36(E))};static#n=this.\u0275cmp=t.Xpm({type:e,selectors:[["drilldown-container"]],standalone:!0,features:[t.jDz],decls:16,vars:5,consts:[["path","drilldown"],[4,"ngLet"],[3,"beginDrag","endDrag"],[3,"keys"]],template:function(o,i){1&o&&(t._UZ(0,"app-example-link",0),t.TgZ(1,"p"),t._uU(2," Hover over a folder to temporarily drill down. Click normally on a folder to open or close it. "),t.qZA(),t.TgZ(3,"p"),t._uU(4," This example uses a wrapper around "),t.TgZ(5,"code"),t._uU(6,"DndService#dropTarget"),t.qZA(),t._uU(7,", that listens to dnd-core hover events and fires a callback when you have hovered long enough. This is a clean pattern for extending "),t.TgZ(8,"code"),t._uU(9,"@ng-dnd/core"),t.qZA(),t._uU(10," in a reusable way. "),t.qZA(),t.YNc(11,Tt,4,1,"p",1),t.ALo(12,"async"),t.TgZ(13,"p")(14,"drilldown-source",2),t.NdJ("beginDrag",function(){return i.beginDrag()})("endDrag",function(){return i.endDrag()}),t.qZA()(),t._UZ(15,"drilldown-folder",3)),2&o&&(t.xp6(11),t.Q6J("ngLet",t.lcZ(12,2,i.lastDrop$)),t.xp6(4),t.Q6J("keys",t.DdM(4,Zt)))},dependencies:[u.Z,f,U,At,c.Ov],styles:["[_nghost-%COMP%]{display:block;min-height:600px}"]})}return e})()}]},28144:(N,d,r)=>{r.d(d,{Z:()=>u});var c=r(45673);let u=(()=>{class t{constructor(){this.path=""}get link(){return"https://github.com/ng-dnd/ng-dnd/tree/main/packages/examples/src/app/"+this.path}static#t=this.\u0275fac=function(p){return new(p||t)};static#n=this.\u0275cmp=c.Xpm({type:t,selectors:[["app-example-link"]],inputs:{path:"path"},standalone:!0,features:[c.jDz],decls:4,vars:1,consts:[["target","_blank",3,"href"],[1,"fab","fa-github"]],template:function(p,g){1&p&&(c.TgZ(0,"p")(1,"a",0),c._UZ(2,"i",1),c._uU(3," View the source on GitHub "),c.qZA()()),2&p&&(c.xp6(1),c.Q6J("href",g.link,c.LSH))},styles:[".fab[_ngcontent-%COMP%]{color:#000}p[_ngcontent-%COMP%]{margin-top:0}a[_ngcontent-%COMP%]{padding:8px;display:inline-block;background:rgba(68,72,224,.14);background:#e5e2fa;background:#e2ecfa;text-decoration:none}"]})}return t})()}}]);