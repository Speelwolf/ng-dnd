"use strict";(self.webpackChunkexamples=self.webpackChunkexamples||[]).push([[361],{87567:(O,f,r)=>{r.d(f,{G:()=>s});var h=r(81072);let s=(()=>{class o{constructor(){this.path=""}get link(){return"https://github.com/ng-dnd/ng-dnd/tree/main/packages/examples/src/app/"+this.path}static#t=this.\u0275fac=function(l){return new(l||o)};static#e=this.\u0275cmp=h.VBU({type:o,selectors:[["app-example-link"]],inputs:{path:"path"},standalone:!0,features:[h.aNF],decls:4,vars:1,consts:[["target","_blank",3,"href"],[1,"fab","fa-github"]],template:function(l,b){1&l&&(h.j41(0,"p")(1,"a",0),h.nrm(2,"i",1),h.EFF(3," View the source on GitHub "),h.k0s()()),2&l&&(h.R7$(),h.Y8G("href",b.link,h.B4B))},styles:[".fab[_ngcontent-%COMP%]{color:#000}p[_ngcontent-%COMP%]{margin-top:0}a[_ngcontent-%COMP%]{padding:8px;display:inline-block;background:#4448e024;background:#e5e2fa;background:#e2ecfa;text-decoration:none}"]})}return o})()},44387:(O,f,r)=>{r.d(f,{p8:()=>E,eP:()=>m.e,lX:()=>x.l,or:()=>t,sH:()=>c,gh:()=>u}),r(6295),r(68422),r(70897);var m=r(67984),c=function(g){return g.BeginDrag="BeginDrag",g.Hover="Hover",g.Drop="Drop",g.EndDrag="EndDrag",g}(c||{});class l{constructor(v,y){this.type=v,this.item=y,this.event=c.BeginDrag}}class b{constructor(v,y){this.type=v,this.item=y,this.event=c.Hover}}class d{constructor(v,y){this.type=v,this.item=y,this.event=c.Drop}}class T{constructor(v,y){this.type=v,this.item=y,this.event=c.EndDrag}}class t{constructor(v,y,p){this.store=v,this.actionType=y,this.beginDrag=(I,C)=>{this.store.dispatch(new l(this.actionType,I))},this.hover=(I,C)=>{this.store.dispatch(new b(this.actionType,I))},this.drop=(I,C)=>{this.store.dispatch(new d(this.actionType,I))},this.endDrag=(I,C)=>{this.store.dispatch(new T(this.actionType,I))},void 0!==p.type&&(this.type=p.type),void 0!==p.accepts&&(this.accepts=p.accepts),void 0!==p.trackBy&&(this.trackBy=p.trackBy),void 0!==p.getList&&(this.getList=p.getList),void 0!==p.canDrag&&(this.canDrag=p.canDrag),void 0!==p.canDrop&&(this.canDrop=p.canDrop),void 0!==p.isDragging&&(this.isDragging=p.isDragging),void 0!==p.createData&&(this.createData=p.createData)}}var a=r(52667),e=r(46072),i=r(67370);const n=Symbol("SPILLED_LIST_ID");function u(g,v,y){const p=D=>D?(D.hover={listId:n,index:-1},{...D}):null,I=new a.B,C=g.dropTarget(v,{hover:D=>{if(D.canDrop()&&D.isOver({shallow:!0})){const B=p(D.getItem());I.next(B)}else I.next(null)},drop:y.drop&&(D=>{const B=p(D.getItem());D.didDrop()||B&&y.drop?.(B)})||void 0}),L=I.pipe((0,e.F)(),(0,i.p)(D=>!!D)).subscribe(D=>{D&&y.hover?.(D)});return C.add(L),C}var x=r(38746),M=(r(667),r(81072));let E=(()=>{class g{static#t=this.\u0275fac=function(p){return new(p||g)};static#e=this.\u0275mod=M.$C({type:g});static#s=this.\u0275inj=M.G2t({})}return g})()},68422:(O,f,r)=>{r.d(f,{Y:()=>c});var h=r(38746),s=r(81072),o=r(62414);const m=Symbol("EXTERNAL_LIST_ID");let c=(()=>{class l{constructor(d,T){this.dnd=d,this.el=T,this.source=this.dnd.dragSource(null,{canDrag:t=>!this.spec.canDrag||this.spec.canDrag(void 0,void 0,t),beginDrag:()=>{if("function"!=typeof this.spec.createData)throw new Error("spec.createData must be a function");return{type:this.spec.type,data:this.spec.createData(),hover:{index:-1,listId:m},isInternal:!1,index:-1,listId:m,size:this.size()}},endDrag:t=>{const a=t.getItem();a&&this.spec.endDrag?.(a,t)}})}size(){const d=this.el.nativeElement.getBoundingClientRect();return new h.o(d.width||d.right-d.left,d.height||d.bottom-d.top)}ngOnChanges(){this.source.setType(this.spec.type)}ngOnDestroy(){this.source.unsubscribe()}static#t=this.\u0275fac=function(T){return new(T||l)(s.rXU(o.E$),s.rXU(s.aKT))};static#e=this.\u0275dir=s.FsC({type:l,selectors:[["","dndSortableExternal",""]],inputs:{spec:[s.Mj6.None,"dndSortableExternal","spec"]},exportAs:["dndSortableExternal"],standalone:!0,features:[s.OA$]})}return l})()},70897:(O,f,r)=>{r.d(f,{z:()=>T});var h=r(54739),s=r(81072),o=r(6295),m=r(667),c=r(62414);const l=t=>({$implicit:t});function b(t,a){1&t&&s.eu8(0)}function d(t,a){if(1&t&&(s.qex(0),s.DNE(1,b,1,0,"ng-container",1),s.bVm()),2&t){const e=a.$implicit,i=a.index,n=s.XpG();s.R7$(),s.Y8G("ngTemplateOutlet",n.template)("ngTemplateOutletContext",s.eq3(2,l,n.contextFor(e,i)))}}let T=(()=>{class t extends o.f{set renderTemplates(e){e.length>0&&(this.template=e.first)}constructor(e,i,n){super(e,i,n),this.template=null,this.trackById=(u,x)=>this.spec.trackBy(x)}ngAfterContentInit(){if(!this.template)throw new Error('You must provide a <ng-template cardTemplate> as a content child, or with [template]="myTemplateRef"')}ngOnChanges(e){super.ngOnChanges(e)}ngOnInit(){super.ngOnInit()}ngAfterViewInit(){super.ngAfterViewInit()}ngOnDestroy(){super.ngOnDestroy()}static#t=this.\u0275fac=function(i){return new(i||t)(s.rXU(c.E$),s.rXU(s.aKT),s.rXU(s.gRc))};static#e=this.\u0275cmp=s.VBU({type:t,selectors:[["dnd-sortable-list"]],contentQueries:function(i,n,u){if(1&i&&s.wni(u,m.r,4,s.C4Q),2&i){let x;s.mGM(x=s.lsd())&&(n.renderTemplates=x)}},inputs:{template:"template"},standalone:!0,features:[s.Jv_([{provide:o.f,useExisting:t}]),s.Vt3,s.OA$,s.aNF],decls:1,vars:2,consts:[[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,n){1&i&&s.DNE(0,d,2,4,"ng-container",0),2&i&&s.Y8G("ngForOf",n.children)("ngForTrackBy",n.trackById)},dependencies:[h.pM,h.T3],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})}return t})()},67984:(O,f,r)=>{r.d(f,{e:()=>T});var h=r(37589),s=r(38746);function o(t,a,e,i){const{hover:n}=a,A=(t.horizontal?i.x:i.y)<(t.horizontal?e.left:e.top)+(t.horizontal?e.width||e.right-e.left:e.height||e.bottom-e.top)/2;let E;return t.listId===n.listId?t.index<n.index?E=A?t.index:t.index+1:(E=A?t.index-1:t.index,E<0&&(E=0)):E=A?t.index:t.index+1,E}function m(t){return t.index}var l=r(81072),b=r(62414);const d=requestAnimationFrame||(t=>setTimeout(t,0));let T=(()=>{class t{get data(){return this.context.data}get index(){return this.context.index}get type(){return this.context.spec.type}get listId(){return this.context.listId}get accepts(){const e=this.context.spec;return e?Array.isArray(e.accepts)?e.accepts:e.accepts||e.type:[]}get spec(){return this.context.spec}constructor(e,i){this.dnd=e,this.el=i,this.subs=new h.yU,this.sameIds=(n,u)=>n&&u.data&&this.spec.trackBy(n)===this.spec.trackBy(u.data),this.target=this.dnd.dropTarget(null,{canDrop:()=>!1,hover:n=>{this.hover(n)}},this.subs),this.source=this.dnd.dragSource(null,{canDrag:n=>this.getCanDrag(n),isDragging:n=>this.isDragging(n.getItem()),beginDrag:n=>{const u=this.createItem();return this.spec.beginDrag&&d(()=>{this.spec.beginDrag?.(u,n)}),u},endDrag:n=>{const u=n.getItem();u&&this.spec.endDrag?.(u,n)}},this.subs),this.isDragging$=this.source.listen(n=>n.isDragging())}createItem(){return{data:this.data,index:this.index,size:this.size(),type:this.type,isInternal:!0,listId:this.listId,hover:{index:this.index,listId:this.listId}}}getCanDrag(e){return!this.spec.canDrag||this.spec.canDrag(this.data,this.listId,e)}isDragging(e){return this.spec.isDragging?e&&this.spec.isDragging(this.data,e)||!1:e&&this.sameIds(this.data,e)||!1}hover(e){const i=e.getItem(),n=e.getClientOffset();if(null==i||null==n||this.isDragging(i)&&this.index===i.hover.index&&this.listId===i.hover.listId)return;const{hover:u}=i,S=function c(t){return t===s.l.fixed?m:o}(this.context.hoverTrigger)(this.context,i,this.rect(),n);if(S<0)throw new Error("@ng-dnd/sortable: Cannot move a card to an index < 0.");if(S!==u.index||this.listId!==u.listId){if(i.hover={index:S,listId:this.listId},this.spec.canDrop&&!this.spec.canDrop(i,e))return;this.spec.hover?.({...i},e)}}rect(){if(!this.el)throw new Error("@ng-dnd/sortable: [dndSortableRender] expected to be attached to a real DOM element");return this.el.nativeElement.getBoundingClientRect()}size(){const e=this.rect();return new s.o(e.width||e.right-e.left,e.height||e.bottom-e.top)}ngOnChanges(){this.target.setTypes(this.accepts),this.source.setType(this.type)}ngOnInit(){this.target.setTypes(this.accepts),this.source.setType(this.type)}ngAfterViewInit(){this.el&&this.target.connectDropTarget(this.el.nativeElement)}ngOnDestroy(){this.subs.unsubscribe()}static#t=this.\u0275fac=function(i){return new(i||t)(l.rXU(b.E$),l.rXU(l.aKT))};static#e=this.\u0275dir=l.FsC({type:t,selectors:[["","dndSortableRender",""]],inputs:{context:[l.Mj6.None,"dndSortableRender","context"]},exportAs:["dndSortableRender"],standalone:!0,features:[l.OA$]})}return t})()},667:(O,f,r)=>{r.d(f,{r:()=>s});var h=r(81072);let s=(()=>{class o{static#t=this.\u0275fac=function(l){return new(l||o)};static#e=this.\u0275dir=h.FsC({type:o,selectors:[["","dndSortableTemplate",""]],standalone:!0})}return o})()},6295:(O,f,r)=>{r.d(f,{f:()=>b});var h=r(60142),s=r(37589),m=r(38746),c=r(81072),l=r(62414);let b=(()=>{class d{constructor(t,a,e){this.dnd=t,this.el=a,this.cdr=e,this.listId=Math.random().toString(),this.horizontal=!1,this.hoverTrigger=m.l.halfway,this.childrenSubject$=new h.t([]),this.children$=this.childrenSubject$,this.subs=new s.yU,this.listSubs=new s.yU,this.target=this.dnd.dropTarget(null,{canDrop:i=>{if(!this.acceptsType(i.getItemType()))return!1;const n=i.getItem();return!!n&&this.getCanDrop(n,i)},drop:i=>{const n=i.getItem();return n&&this.getCanDrop(n,i)&&this.spec.drop?.(n,i),{}},hover:i=>{const n=i.getItem();this.children&&function o(d){for(const T of d)return!1;return!0}(this.children)&&n&&this.getCanDrop(n,i)&&i.isOver({shallow:!0})&&this.callHover(n,i,{listId:this.listId,index:0})}},this.subs)}contextFor(t,a){return{data:t,index:a,listId:this.listId,spec:this.spec,horizontal:this.horizontal,hoverTrigger:this.hoverTrigger}}updateSubscription(){if(null!=this.listId&&this.spec&&(this.listSubs&&(this.subs.remove(this.listSubs),this.listSubs.unsubscribe()),this.spec.getList)){const t=this.spec.getList(this.listId);this.listSubs=t?.subscribe(a=>{a&&(this.childrenSubject$.next(a),this.children=a,this.cdr.markForCheck())}),this.subs.add(this.listSubs)}}getCanDrop(t,a,e=!0){return this.spec.canDrop?this.spec.canDrop(t,a):e}callHover(t,a,e){e&&(t.hover=e,t={...t}),this.spec.hover?.(t,a)}ngOnInit(){this.updateSubscription(),this.target.setTypes(this.getTargetType())}getTargetType(){return Array.isArray(this.spec.accepts)?this.spec.accepts:this.spec.accepts||this.spec.type}acceptsType(t){return null!=t&&(Array.isArray(this.spec.accepts)?-1!==this.spec.accepts.indexOf(t):t==this.getTargetType())}ngOnChanges({spec:t,listId:a}){a&&this.updateSubscription(),t&&this.updateSubscription(),this.target.setTypes(this.getTargetType())}ngAfterViewInit(){if(!this.el)throw new Error("dndSortable directive must have ElementRef");this.target.connectDropTarget(this.el.nativeElement)}ngOnDestroy(){this.subs.unsubscribe()}static#t=this.\u0275fac=function(a){return new(a||d)(c.rXU(l.E$),c.rXU(c.aKT),c.rXU(c.gRc))};static#e=this.\u0275dir=c.FsC({type:d,selectors:[["","dndSortable",""]],inputs:{listId:"listId",horizontal:"horizontal",spec:"spec",children:"children",hoverTrigger:"hoverTrigger"},exportAs:["dndSortable"],standalone:!0,features:[c.OA$]})}return d})()},38746:(O,f,r)=>{r.d(f,{l:()=>s,o:()=>h});class h{constructor(m,c){this.width=m,this.height=c}style(){return{width:this.width+"px",height:this.height+"px"}}}var s=function(o){return o.halfway="halfway",o.fixed="fixed",o}(s||{})}}]);