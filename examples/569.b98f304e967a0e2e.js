"use strict";(self.webpackChunkexamples=self.webpackChunkexamples||[]).push([[569],{61569:(O,y,n)=>{n.d(y,{tG:()=>w,UH:()=>l.U,SO:()=>p.S,yn:()=>a,DC:()=>c,De:()=>x}),n(97493),n(43554);var l=n(48307),p=(n(82817),n(81016)),c=(()=>{return(u=c||(c={})).BeginDrag="BeginDrag",u.Hover="Hover",u.Drop="Drop",u.EndDrag="EndDrag",c;var u})();class b{constructor(m,f){this.type=m,this.item=f,this.event=c.BeginDrag}}class o{constructor(m,f){this.type=m,this.item=f,this.event=c.Hover}}class T{constructor(m,f){this.type=m,this.item=f,this.event=c.Drop}}class e{constructor(m,f){this.type=m,this.item=f,this.event=c.EndDrag}}class a{constructor(m,f,d){this.store=m,this.actionType=f,this.beginDrag=(I,B)=>{this.store.dispatch(new b(this.actionType,I))},this.hover=(I,B)=>{this.store.dispatch(new o(this.actionType,I))},this.drop=(I,B)=>{this.store.dispatch(new T(this.actionType,I))},this.endDrag=(I,B)=>{this.store.dispatch(new e(this.actionType,I))},void 0!==d.type&&(this.type=d.type),void 0!==d.accepts&&(this.accepts=d.accepts),void 0!==d.trackBy&&(this.trackBy=d.trackBy),void 0!==d.getList&&(this.getList=d.getList),void 0!==d.canDrag&&(this.canDrag=d.canDrag),void 0!==d.canDrop&&(this.canDrop=d.canDrop),void 0!==d.isDragging&&(this.isDragging=d.isDragging),void 0!==d.createData&&(this.createData=d.createData)}}var t=n(26109),i=n(48045),s=n(90594);const g=Symbol("SPILLED_LIST_ID");function x(u,m,f){const d=D=>D?(D.hover={listId:g,index:-1},{...D}):null,I=new t.x,B=u.dropTarget(m,{hover:D=>{if(D.canDrop()&&D.isOver({shallow:!0})){const A=d(D.getItem());I.next(A)}else I.next(null)},drop:f.drop&&(D=>{const A=d(D.getItem());D.didDrop()||f.drop&&A&&f.drop(A)})||void 0}),M=I.pipe((0,i.x)(),(0,s.h)(D=>!!D)).subscribe(D=>{f.hover&&D&&f.hover(D)});return B.add(M),B}var E=n(17011),L=n(4730),S=(n(64365),n(31385));let w=(()=>{class u{static#t=this.\u0275fac=function(d){return new(d||u)};static#e=this.\u0275mod=S.oAB({type:u});static#s=this.\u0275inj=S.cJS({imports:[E.ez,L.c8]})}return u})()},82817:(O,y,n)=>{n.d(y,{Y:()=>p});var r=n(81016),h=n(31385),l=n(4730);const v=Symbol("EXTERNAL_LIST_ID");let p=(()=>{class c{constructor(o,T){this.dnd=o,this.el=T,this.source=this.dnd.dragSource(null,{canDrag:e=>!this.spec||!this.spec.canDrag||this.spec.canDrag(void 0,void 0,e),beginDrag:()=>{if("function"!=typeof this.spec.createData)throw new Error("spec.createData must be a function");return{type:this.spec.type,data:this.spec.createData(),hover:{index:-1,listId:v},isInternal:!1,index:-1,listId:v,size:this.size()}},endDrag:e=>{const a=e.getItem();a&&this.spec&&this.spec.endDrag&&this.spec.endDrag(a,e)}})}size(){const o=this.el.nativeElement.getBoundingClientRect();return new r.$(o.width||o.right-o.left,o.height||o.bottom-o.top)}ngOnChanges(){this.source.setType(this.spec.type)}ngOnDestroy(){this.source.unsubscribe()}static#t=this.\u0275fac=function(T){return new(T||c)(h.Y36(l.fD),h.Y36(h.SBq))};static#e=this.\u0275dir=h.lG2({type:c,selectors:[["","dndSortableExternal",""]],inputs:{spec:["dndSortableExternal","spec"]},exportAs:["dndSortableExternal"],features:[h.TTD]})}return c})()},43554:(O,y,n)=>{n.d(y,{J:()=>T});var r=n(31385),h=n(64365),l=n(97493),v=n(4730),p=n(17011);function c(e,a){1&e&&r.GkF(0)}const b=function(e){return{$implicit:e}};function o(e,a){if(1&e&&(r.ynx(0),r.YNc(1,c,1,0,"ng-container",1),r.BQk()),2&e){const t=a.$implicit,i=a.index,s=r.oxw();r.xp6(1),r.Q6J("ngTemplateOutlet",s.template)("ngTemplateOutletContext",r.VKq(2,b,s.contextFor(t,i)))}}let T=(()=>{class e extends l.B{set renderTemplates(t){t.length>0&&(this.template=t.first)}constructor(t,i,s){super(t,i,s),this.template=null,this.trackById=(g,x)=>this.spec&&this.spec.trackBy(x)}ngAfterContentInit(){if(!this.template)throw new Error('You must provide a <ng-template cardTemplate> as a content child, or with [template]="myTemplateRef"')}ngOnChanges(t){super.ngOnChanges(t)}ngOnInit(){super.ngOnInit()}ngAfterViewInit(){super.ngAfterViewInit()}ngOnDestroy(){super.ngOnDestroy()}static#t=this.\u0275fac=function(i){return new(i||e)(r.Y36(v.fD),r.Y36(r.SBq),r.Y36(r.sBO))};static#e=this.\u0275cmp=r.Xpm({type:e,selectors:[["dnd-sortable-list"]],contentQueries:function(i,s,g){if(1&i&&r.Suo(g,h.S,4,r.Rgc),2&i){let x;r.iGM(x=r.CRH())&&(s.renderTemplates=x)}},inputs:{template:"template"},features:[r._Bn([{provide:l.B,useExisting:e}]),r.qOj,r.TTD],decls:1,vars:2,consts:[[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,s){1&i&&r.YNc(0,o,2,4,"ng-container",0),2&i&&r.Q6J("ngForOf",s.children)("ngForTrackBy",s.trackById)},dependencies:[p.sg,p.tP],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})}return e})()},48307:(O,y,n)=>{n.d(y,{U:()=>T});var r=n(40245),h=n(81016);function l(e,a,t,i){const{hover:s}=a,C=(e.horizontal?i.x:i.y)<(e.horizontal?t.left:t.top)+(e.horizontal?t.width||t.right-t.left:t.height||t.bottom-t.top)/2;let S;return e.listId===s.listId?e.index<s.index?S=C?e.index:e.index+1:(S=C?e.index-1:e.index,S<0&&(S=0)):S=C?e.index:e.index+1,S}function v(e){return e.index}var c=n(31385),b=n(4730);const o=requestAnimationFrame||(e=>setTimeout(e,0));let T=(()=>{class e{get data(){return this.context.data}get index(){return this.context.index}get type(){return this.context.spec&&this.context.spec.type}get listId(){return this.context.listId}get accepts(){const t=this.context.spec;return t?Array.isArray(t.accepts)?t.accepts:t.accepts||t.type:[]}get spec(){return this.context.spec}constructor(t,i){this.dnd=t,this.el=i,this.subs=new r.w0,this.sameIds=(s,g)=>s&&g.data&&this.spec.trackBy(s)===this.spec.trackBy(g.data),this.target=this.dnd.dropTarget(null,{canDrop:()=>!1,hover:s=>{this.hover(s)}},this.subs),this.source=this.dnd.dragSource(null,{canDrag:s=>this.getCanDrag(s),isDragging:s=>this.isDragging(s.getItem()),beginDrag:s=>{const g=this.createItem();return this.spec&&this.spec.beginDrag&&o(()=>{this.spec&&this.spec.beginDrag&&this.spec.beginDrag(g,s)}),g},endDrag:s=>{const g=s.getItem();g&&this.spec&&this.spec.endDrag&&this.spec.endDrag(g,s)}},this.subs),this.isDragging$=this.source.listen(s=>s.isDragging())}createItem(){return{data:this.data,index:this.index,size:this.size(),type:this.type,isInternal:!0,listId:this.listId,hover:{index:this.index,listId:this.listId}}}getCanDrag(t){return!this.spec||!this.spec.canDrag||this.spec.canDrag(this.data,this.listId,t)}isDragging(t){return this.spec&&this.spec.isDragging?t&&this.spec.isDragging(this.data,t)||!1:t&&this.sameIds(this.data,t)||!1}hover(t){const i=t.getItem(),s=t.getClientOffset();if(null==i||null==s||this.isDragging(i)&&this.index===i.hover.index&&this.listId===i.hover.listId)return;const{hover:g}=i,E=function p(e){return e===h.S.fixed?v:l}(this.context.hoverTrigger)(this.context,i,this.rect(),s);if(E<0)throw new Error("@ng-dnd/sortable: Cannot move a card to an index < 0.");if(E!==g.index||this.listId!==g.listId){if(i.hover={index:E,listId:this.listId},this.spec&&this.spec.canDrop&&!this.spec.canDrop(i,t))return;this.spec&&this.spec.hover&&this.spec.hover({...i},t)}}rect(){if(!this.el)throw new Error("@ng-dnd/sortable: [dndSortableRender] expected to be attached to a real DOM element");return this.el.nativeElement.getBoundingClientRect()}size(){const t=this.rect();return new h.$(t.width||t.right-t.left,t.height||t.bottom-t.top)}ngOnChanges(){this.target.setTypes(this.accepts),this.source.setType(this.type)}ngOnInit(){this.target.setTypes(this.accepts),this.source.setType(this.type)}ngAfterViewInit(){this.el&&this.target.connectDropTarget(this.el.nativeElement)}ngOnDestroy(){this.subs.unsubscribe()}static#t=this.\u0275fac=function(i){return new(i||e)(c.Y36(b.fD),c.Y36(c.SBq))};static#e=this.\u0275dir=c.lG2({type:e,selectors:[["","dndSortableRender",""]],inputs:{context:["dndSortableRender","context"]},exportAs:["dndSortableRender"],features:[c.TTD]})}return e})()},97493:(O,y,n)=>{n.d(y,{B:()=>b});var r=n(84985),h=n(40245),l=n(81016),p=n(31385),c=n(4730);let b=(()=>{class o{constructor(e,a,t){this.dnd=e,this.el=a,this.cdr=t,this.listId=Math.random().toString(),this.horizontal=!1,this.hoverTrigger=l.S.halfway,this.childrenSubject$=new r.X([]),this.children$=this.childrenSubject$,this.subs=new h.w0,this.listSubs=new h.w0,this.target=this.dnd.dropTarget(null,{canDrop:i=>{if(!this.acceptsType(i.getItemType()))return!1;const s=i.getItem();return!!s&&this.getCanDrop(s,i)},drop:i=>{const s=i.getItem();return s&&this.getCanDrop(s,i)&&this.spec&&this.spec.drop&&this.spec.drop(s,i),{}},hover:i=>{const s=i.getItem();this.children&&function v(o){for(const T of o)return!1;return!0}(this.children)&&s&&this.getCanDrop(s,i)&&i.isOver({shallow:!0})&&this.callHover(s,i,{listId:this.listId,index:0})}},this.subs)}updateSubscription(){if(typeof this.listId<"u"&&null!==this.listId&&this.spec&&(this.listSubs&&(this.subs.remove(this.listSubs),this.listSubs.unsubscribe()),this.spec.getList)){const a=this.spec.getList(this.listId);this.listSubs=a&&a.subscribe(t=>{t&&(this.childrenSubject$.next(t),this.children=t,this.cdr.markForCheck())}),this.subs.add(this.listSubs)}}contextFor(e,a){return{data:e,index:a,listId:this.listId,spec:this.spec,horizontal:this.horizontal,hoverTrigger:this.hoverTrigger}}getCanDrop(e,a,t=!0){return this.spec&&this.spec.canDrop?this.spec.canDrop(e,a):t}callHover(e,a,t){t&&(e.hover=t,e={...e}),this.spec&&this.spec.hover&&this.spec.hover(e,a)}ngOnInit(){this.updateSubscription(),this.target.setTypes(this.getTargetType())}getTargetType(){return Array.isArray(this.spec.accepts)?this.spec.accepts:this.spec.accepts||this.spec.type}acceptsType(e){return null!=e&&(Array.isArray(this.spec.accepts)?-1!==this.spec.accepts.indexOf(e):e==this.getTargetType())}ngOnChanges({spec:e,listId:a}){a&&this.updateSubscription(),e&&this.updateSubscription(),this.target.setTypes(this.getTargetType())}ngAfterViewInit(){if(!this.el)throw new Error("dndSortable directive must have ElementRef");this.target.connectDropTarget(this.el.nativeElement)}ngOnDestroy(){this.subs.unsubscribe()}static#t=this.\u0275fac=function(a){return new(a||o)(p.Y36(c.fD),p.Y36(p.SBq),p.Y36(p.sBO))};static#e=this.\u0275dir=p.lG2({type:o,selectors:[["","dndSortable",""]],inputs:{listId:"listId",horizontal:"horizontal",spec:"spec",children:"children",hoverTrigger:"hoverTrigger"},exportAs:["dndSortable"],features:[p.TTD]})}return o})()},64365:(O,y,n)=>{n.d(y,{S:()=>h});var r=n(31385);let h=(()=>{class l{static#t=this.\u0275fac=function(c){return new(c||l)};static#e=this.\u0275dir=r.lG2({type:l,selectors:[["","dndSortableTemplate",""]]})}return l})()},81016:(O,y,n)=>{n.d(y,{$:()=>r,S:()=>h});class r{constructor(v,p){this.width=v,this.height=p}style(){return{width:this.width+"px",height:this.height+"px"}}}var h=(()=>{return(l=h||(h={})).halfway="halfway",l.fixed="fixed",h;var l})()}}]);