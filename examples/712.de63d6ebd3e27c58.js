"use strict";(self.webpackChunkexamples=self.webpackChunkexamples||[]).push([[712],{78712:(E,f,c)=>{c.r(f),c.d(f,{XyPadModule:()=>q});var p=c(17011),g=c(25568),O=c(14595),l=c(4730);function d(n){return r=>({x:Math.round(r.x/n)*n,y:Math.round(r.y/n)*n})}var t=c(31385),P=c(74967),m=c(10231),y=c(76801),_=c(90594);function x(n,r){return{x:n.x+r.x,y:n.y+r.y}}function u(n,r){return{x:n.x-r.x,y:n.y-r.y}}let C=(()=>{class n{constructor(){this.compensate=!1}static#t=this.\u0275fac=function(o){return new(o||n)};static#n=this.\u0275cmp=t.Xpm({type:n,selectors:[["xy-box"]],inputs:{compensate:"compensate"},decls:1,vars:2,consts:[[1,"spot"]],template:function(o,i){1&o&&t._UZ(0,"div",0),2&o&&t.ekj("compensate",i.compensate)},styles:[".spot[_ngcontent-%COMP%]{background:#33e8d5;box-shadow:0 0 8px #33e8d5;cursor:move;padding:16px;border-radius:16px}.compensate[_ngcontent-%COMP%]{margin-left:-16px;margin-top:-16px}"]})}return n})(),D=(()=>{class n{static#t=this.\u0275fac=function(o){return new(o||n)};static#n=this.\u0275cmp=t.Xpm({type:n,selectors:[["xy-box-drag-preview"]],decls:2,vars:1,consts:[[1,"phresh"],[3,"compensate"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0),t._UZ(1,"xy-box",1),t.qZA()),2&o&&(t.xp6(1),t.Q6J("compensate",!1))},dependencies:[C],styles:["[_nghost-%COMP%]{display:inline-block}@keyframes _ngcontent-%COMP%_animatedBackground{0%{background:rgba(64,160,150,.8)}to{background:rgba(64,160,150,.2)}}.phresh[_ngcontent-%COMP%]{overflow:auto;margin-left:-32px;margin-top:-32px;padding:16px;border-radius:32px;animation-name:_ngcontent-%COMP%_animatedBackground;animation-duration:1.5s;animation-iteration-count:infinite;animation-timing-function:linear;animation-direction:alternate}"]})}return n})(),b=(()=>{class n{constructor(){this.math=Math,this.width=400,this.height=400}static#t=this.\u0275fac=function(o){return new(o||n)};static#n=this.\u0275cmp=t.Xpm({type:n,selectors:[["xy-crosshairs"]],inputs:{x:"x",y:"y",width:"width",height:"height"},decls:6,vars:18,consts:[[1,"crosshair","horizontal"],[1,"label"],[1,"crosshair","vertical"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0)(1,"span",1),t._uU(2),t.qZA()(),t.TgZ(3,"div",2)(4,"span",1),t._uU(5),t.qZA()()),2&o&&(t.Udp("top",i.y-1,"px")("width",i.width,"px"),t.ekj("swap-ends",i.x<70)("flip",i.y>i.height-30),t.xp6(2),t.Oqu(i.math.round(i.y)),t.xp6(1),t.Udp("left",i.x-1,"px")("height",i.height,"px"),t.ekj("swap-ends",i.y<70)("flip",i.x>i.width-40),t.xp6(2),t.Oqu(i.math.round(i.x)))},styles:[".crosshair[_ngcontent-%COMP%]{position:absolute;border-width:0;border-style:solid;border-color:#33e8d5}.crosshair.horizontal[_ngcontent-%COMP%]{border-top-width:2px;width:100%;top:0}.crosshair.vertical[_ngcontent-%COMP%]{border-left-width:2px;height:100%;top:0}.label[_ngcontent-%COMP%]{position:absolute;background-color:#33e8d5;padding:2px 2px 1px;left:0;top:0}.swap-ends.horizontal[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{left:auto;right:0}.flip.horizontal[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%], .swap-ends.vertical[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{top:auto;bottom:0}.flip.vertical[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{left:auto;right:0}"]})}return n})();function S(n,r){if(1&n&&t._UZ(0,"xy-crosshairs",5),2&n){const e=r.ngIf;t.Q6J("x",e.x)("y",e.y)}}function k(n,r){1&n&&t._UZ(0,"xy-box-drag-preview")}function J(n,r){if(1&n&&(t.ynx(0),t.YNc(1,S,1,2,"xy-crosshairs",1),t.ALo(2,"async"),t.TgZ(3,"div",2),t.ALo(4,"async"),t.ynx(5,3),t.YNc(6,k,1,0,"xy-box-drag-preview",4),t.BQk(),t.qZA(),t.BQk()),2&n){const e=t.oxw().ngIf,o=t.oxw();t.xp6(1),t.Q6J("ngIf",t.lcZ(2,4,o.crossStyle$)),t.xp6(2),t.Q6J("ngStyle",t.lcZ(4,6,o.movingStyle$)),t.xp6(2),t.Q6J("ngSwitch",e.itemType),t.xp6(1),t.Q6J("ngSwitchCase","SPOT")}}function A(n,r){if(1&n&&(t.ynx(0),t.YNc(1,J,7,8,"ng-container",0),t.BQk()),2&n){const e=r.ngIf;t.xp6(1),t.Q6J("ngIf",e.isDragging)}}let U=(()=>{class n{set incrementPx(e){this.snappingFunction=d(e)}constructor(e,o){this.dnd=e,this.el=o,this.snapToGrid=!1,this.snappingFunction=d(32),this.moved=new t.vpe,this.rect={x:0,y:0,width:0,height:0},this.dragLayer=this.dnd.dragLayer(),this.collect$=this.dragLayer.listen(i=>(this.setWindowRelativeOffset(),{item:i.getItem(),itemType:i.getItemType(),isDragging:i.isDragging(),initialOffset:this.absToRelative(i.getInitialSourceClientOffset()),currentOffset:this.absToRelative(i.getSourceClientOffset())})),this.movingStyle$=this.collect$.pipe((0,y.U)(i=>this.getItemStyles(i)),(0,_.h)(i=>null!=i)),this.crossStyle$=this.collect$.pipe((0,y.U)(i=>this.getCrosshairStyles(i)),(0,_.h)(i=>null!=i))}absToRelative(e){return e&&u(e,this.rect)}setWindowRelativeOffset(){const e=this.el.nativeElement.getBoundingClientRect();this.rect={x:e.left,y:e.top,width:e.width,height:e.height}}getXY(e,o,i,a=!1){let s=function M(n){return Object.assign({},n)}(i),h=u(i,o);if(this.snapToGrid&&(s=u(s,o),s=this.snappingFunction(s),h=s,s=x(s,o)),e.fromCube){const N=x(e,u(h,{x:16,y:16})),T=this.getClippedOffset(N);return a&&this.moved.emit(T),T}const v=this.getClippedOffset(s);return a&&this.moved.emit(v),v}getClippedOffset(e){const o=x(e,{x:16,y:16});return function Z(n,r,e,o){return e<0&&(e=0),e>n&&(e=n),o<0&&(o=0),o>r&&(o=r),{x:e,y:o}}(this.rect.width,this.rect.height,o.x,o.y)}getItemStyles({item:e,initialOffset:o,currentOffset:i}){if(!o||!i)return{display:"none"};const{x:a,y:s}=this.getXY(e,o,i,!0),h=`translate3d(${a}px, ${s}px, 0)`;return{transform:h,WebkitTransform:h}}getCrosshairStyles({item:e,initialOffset:o,currentOffset:i}){if(!o||!i)return null;const a=this.getXY(e,o,i);return function w(n,r){return{x:n(r.x),y:n(r.y)}}(Math.round,a)}ngAfterViewInit(){this.setWindowRelativeOffset()}ngOnDestroy(){this.dragLayer.unsubscribe()}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(l.fD),t.Y36(t.SBq))};static#n=this.\u0275cmp=t.Xpm({type:n,selectors:[["xy-custom-drag-layer"]],inputs:{snapToGrid:"snapToGrid",incrementPx:"incrementPx"},outputs:{moved:"moved"},decls:2,vars:3,consts:[[4,"ngIf"],[3,"x","y",4,"ngIf"],[3,"ngStyle"],[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"x","y"]],template:function(o,i){1&o&&(t.YNc(0,A,2,1,"ng-container",0),t.ALo(1,"async")),2&o&&t.Q6J("ngIf",t.lcZ(1,1,i.collect$))},dependencies:[p.O5,p.PC,p.RF,p.n9,D,b,p.Ov],styles:["[_nghost-%COMP%]{display:block;position:absolute;pointer-events:none;z-index:9000;left:0;top:0;width:100%;height:100%}"],changeDetection:0})}return n})();var L=c(41493);function Q(n,r){if(1&n&&t._UZ(0,"xy-crosshairs",4),2&n){const e=t.oxw();t.Q6J("x",e.spot.x)("y",e.spot.y)}}let $=(()=>{class n{constructor(e){this.dnd=e,this.endDrag=new t.vpe,this.source=this.dnd.dragSource("SPOT",{beginDrag:()=>this.spot,isDragging:()=>!0,endDrag:()=>{this.endDrag.emit(this.spot)}}),this.isDragging$=this.source.listen(o=>o.isDragging())}ngOnInit(){this.source.connectDragPreview((0,L.r)(),{captureDraggingState:!0})}ngOnDestroy(){this.source.unsubscribe()}getStyles(){}getRootStyles(e){const{x:o,y:i}=this.spot,a=`translate3d(${o}px, ${i}px, 0)`;return{position:"relative",marginLeft:"-16px",marginTop:"-16px",transform:a,WebkitTransform:a,opacity:e?0:null,height:e?0:null}}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(l.fD))};static#n=this.\u0275cmp=t.Xpm({type:n,selectors:[["xy-draggable-box"]],inputs:{spot:"spot"},outputs:{endDrag:"endDrag"},decls:7,vars:7,consts:[[1,"root",3,"dragSource","ngStyle"],[1,"draggable-node"],[1,"fullsize"],[3,"x","y",4,"ngIf"],[3,"x","y"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0),t.ALo(1,"async"),t.TgZ(2,"div",1),t._UZ(3,"xy-box"),t.qZA(),t._UZ(4,"div",2),t.qZA(),t.YNc(5,Q,1,2,"xy-crosshairs",3),t.ALo(6,"async")),2&o&&(t.Q6J("dragSource",i.source)("ngStyle",i.getRootStyles(t.lcZ(1,3,i.isDragging$))),t.xp6(5),t.Q6J("ngIf",!0!==t.lcZ(6,5,i.isDragging$)))},dependencies:[p.O5,p.PC,m.$d,C,b,p.Ov],styles:[".root[_ngcontent-%COMP%]{cursor:move}xy-crosshairs[_ngcontent-%COMP%], .draggable-node[_ngcontent-%COMP%]{pointer-events:none;position:absolute}xy-crosshairs[_ngcontent-%COMP%]{margin-top:16px}.fullsize[_ngcontent-%COMP%]{position:absolute;left:-400px;top:-400px;width:800px;height:800px}"],changeDetection:0})}return n})();function G(n,r){if(1&n&&t._UZ(0,"div",7),2&n){const e=r.$implicit,o=t.oxw();t.Udp("top",o.px*e-1,"px")}}function Y(n,r){if(1&n&&t._UZ(0,"div",8),2&n){const e=r.$implicit,o=t.oxw();t.Udp("left",o.px*e-1,"px")}}let F=(()=>{class n{get spot(){return{id:23,x:this.x,y:this.y}}set incrementPx(e){this.px=e,this.snappingFunction=d(e),this.setGridlines()}constructor(e){this.dnd=e,this.x=50,this.y=100,this.endDrag=new t.vpe,this.moved=new t.vpe,this.snapToGrid=!1,this.px=32,this.snappingFunction=d(this.px),this.gridlines=[],this.boxTarget=this.dnd.dropTarget("BOX",{}),this.incrementPx=25}emitEach(e){this.moved.emit(e)}dragEnded(e){this.endDrag.emit()}ngOnDestroy(){this.boxTarget.unsubscribe()}setGridlines(){this.gridlines=new Array(Math.floor(400/this.px)-1).fill(0).map((e,o)=>o+1)}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(l.fD))};static#n=this.\u0275cmp=t.Xpm({type:n,selectors:[["xy-drag-container"]],inputs:{x:"x",y:"y",snapToGrid:"snapToGrid",incrementPx:"incrementPx"},outputs:{endDrag:"endDrag",moved:"moved"},decls:7,vars:6,consts:[[1,"glow"],[1,"scanline"],[1,"square",3,"dropTarget"],["class","gridline horizontal",3,"top",4,"ngFor","ngForOf"],["class","gridline vertical",3,"left",4,"ngFor","ngForOf"],[3,"spot","endDrag"],[3,"snapToGrid","incrementPx","moved"],[1,"gridline","horizontal"],[1,"gridline","vertical"]],template:function(o,i){1&o&&(t._UZ(0,"div",0)(1,"div",1),t.TgZ(2,"div",2),t.YNc(3,G,1,2,"div",3),t.YNc(4,Y,1,2,"div",4),t.TgZ(5,"xy-draggable-box",5),t.NdJ("endDrag",function(s){return i.dragEnded(s)}),t.qZA()(),t.TgZ(6,"xy-custom-drag-layer",6),t.NdJ("moved",function(s){return i.emitEach(s)}),t.qZA()),2&o&&(t.xp6(2),t.Q6J("dropTarget",i.boxTarget),t.xp6(1),t.Q6J("ngForOf",i.gridlines),t.xp6(1),t.Q6J("ngForOf",i.gridlines),t.xp6(1),t.Q6J("spot",i.spot),t.xp6(1),t.Q6J("snapToGrid",i.snapToGrid)("incrementPx",i.px))},dependencies:[p.sg,m.Li,U,$],styles:['[_nghost-%COMP%]{display:block;position:relative;width:400px;height:400px;box-sizing:content-box;overflow:hidden;background:#153242;border-radius:25px;border:12px solid black}.square[_ngcontent-%COMP%]{position:relative;z-index:3000;left:0;top:0;width:100%;height:100%;box-sizing:border-box;overflow:hidden}.gridline[_ngcontent-%COMP%]{position:absolute;border-width:0;border-style:solid;border-color:#12a394}.gridline.horizontal[_ngcontent-%COMP%]{border-top-width:1px;left:0;width:100%}.gridline.vertical[_ngcontent-%COMP%]{border-left-width:1px;top:0;height:100%}.scanline[_ngcontent-%COMP%]:before{pointer-events:none;content:"";position:absolute;top:0;width:100%;height:5px;background:#fff;background:linear-gradient(to bottom,rgba(255,0,0,0) 0%,rgb(255,250,250) 50%,rgba(255,255,255,.98) 51%,rgba(255,0,0,0) 100%);opacity:.1;animation:_ngcontent-%COMP%_vline 3.25s linear infinite}.scanline[_ngcontent-%COMP%]:after{box-shadow:0 2px 6px #19191933,inset 0 1px #3232321a,inset 0 3px #3232320d,inset 0 3px 8px #4040400d,inset 0 -5px 10px #1919191a}@keyframes _ngcontent-%COMP%_vline{0%{top:-30%}to{top:100%}}.glow[_ngcontent-%COMP%]{pointer-events:none;height:100%;width:100%;left:0;top:0;position:absolute;box-shadow:inset 0 0 1px 1px #4040401a;background:radial-gradient(ellipse at center,#0d756a 0%,rgba(64,64,64,0) 90%);transform-origin:50% 50%;transform:perspective(20px) rotateX(.5deg) skew(2deg) scale(1.03);animation:_ngcontent-%COMP%_glitch 1s linear infinite;opacity:.9}.glow[_ngcontent-%COMP%]:after{background:radial-gradient(ellipse at center,rgba(0,0,0,.5) 0%,rgba(64,64,64,0) 100%);opacity:.1}@keyframes _ngcontent-%COMP%_glitch{0%{transform:scaleY(1.002)}50%{transform:scaleY(1.0001)}to{transform:scaleX(1.001)}}']})}return n})();const X=function(n,r){return{transform:n,WebkitTransform:r}};let I=(()=>{class n{constructor(e){this.dnd=e,this.transform="",this.endDrag=new t.vpe,this.source=this.dnd.dragSource("SPOT",{beginDrag:()=>({id:123,x:this.x,y:this.y,fromCube:!0}),endDrag:o=>{this.endDrag.emit()}})}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(l.fD))};static#n=this.\u0275cmp=t.Xpm({type:n,selectors:[["xy-cube"]],inputs:{transform:"transform",x:"x",y:"y"},outputs:{endDrag:"endDrag"},decls:14,vars:6,consts:[[1,"container",3,"dragSource","noHTML5Preview"],["id","cube",3,"ngStyle"],[1,"front"],[1,"back"],[1,"right"],[1,"left"],[1,"top"],[1,"bottom"]],template:function(o,i){1&o&&(t.TgZ(0,"section",0)(1,"div",1)(2,"figure",2),t._uU(3,"1"),t.qZA(),t.TgZ(4,"figure",3),t._uU(5,"2"),t.qZA(),t.TgZ(6,"figure",4),t._uU(7,"3"),t.qZA(),t.TgZ(8,"figure",5),t._uU(9,"4"),t.qZA(),t.TgZ(10,"figure",6),t._uU(11,"5"),t.qZA(),t.TgZ(12,"figure",7),t._uU(13,"6"),t.qZA()()()),2&o&&(t.Q6J("dragSource",i.source)("noHTML5Preview",!0),t.xp6(1),t.Q6J("ngStyle",t.WLB(3,X,i.transform,i.transform)))},dependencies:[p.PC,m.$d],styles:[".container[_ngcontent-%COMP%]{width:200px;height:200px;position:relative;perspective:1000px}#cube[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;transform-style:preserve-3d}#cube[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]{margin:0;width:196px;height:196px;display:block;position:absolute;border:2px solid black;font-size:68px;text-align:center;line-height:196px}#cube[_ngcontent-%COMP%]   .front[_ngcontent-%COMP%]{transform:rotateY(0) translateZ(100px);background:#225378}#cube[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%]{transform:rotateX(180deg) translateZ(100px);background:#1695a3}#cube[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{transform:rotateY(90deg) translateZ(100px);background:#acf0f2}#cube[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{transform:rotateY(-90deg) translateZ(100px);background:#f3ffe2}#cube[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]{transform:rotateX(90deg) translateZ(100px);background:#eb7f00}#cube[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]{transform:rotateX(-90deg) translateZ(100px);background:#b0121b}"]})}return n})(),z=(()=>{class n{constructor(){this.x=225,this.y=225,this.latestLocation={x:this.x,y:this.y},this._snapToGrid=!1,this._pixels=25}get snapToGrid(){return this._snapToGrid}set snapToGrid(e){this._snapToGrid=e,e&&this.snapOnce()}get pixels(){return this._pixels}set pixels(e){e>2&&(this._pixels=e,this.snapOnce())}snapOnce(){const e=d(this.pixels)({x:this.x,y:this.y});this.x=e.x||0,this.y=e.y||0,this.latestLocation=e}dragEnded(){this.x=this.latestLocation.x,this.y=this.latestLocation.y}get cubeTransform(){return`translateZ(-100px) rotateX(${-(this.latestLocation.y-200)/200*180}deg) rotateY(${(this.latestLocation.x-200)/200*180}deg)`}static#t=this.\u0275fac=function(o){return new(o||n)};static#n=this.\u0275cmp=t.Xpm({type:n,selectors:[["xy-drag-layer-container"]],decls:14,vars:9,consts:[["path","xy-pad"],[1,"flex"],[3,"x","y","snapToGrid","incrementPx","endDrag","moved"],["type","checkbox",3,"ngModel","ngModelChange"],["type","number",3,"ngModel","ngModelChange"],[1,"pad"],[3,"transform","x","y","endDrag"]],template:function(o,i){1&o&&(t._UZ(0,"app-example-link",0),t.TgZ(1,"div",1)(2,"div")(3,"xy-drag-container",2),t.NdJ("endDrag",function(){return i.dragEnded()})("moved",function(s){return i.latestLocation=s}),t.qZA(),t.TgZ(4,"p")(5,"label")(6,"input",3),t.NdJ("ngModelChange",function(s){return i.snapToGrid=s}),t.qZA(),t._uU(7," Snap to grid "),t.qZA()(),t.TgZ(8,"p")(9,"label")(10,"input",4),t.NdJ("ngModelChange",function(s){return i.pixels=s}),t.qZA(),t._uU(11," Pixels per gridline "),t.qZA()()(),t.TgZ(12,"div",5)(13,"xy-cube",6),t.NdJ("endDrag",function(){return i.dragEnded()}),t.qZA()()()),2&o&&(t.xp6(3),t.Q6J("x",i.x)("y",i.y)("snapToGrid",i.snapToGrid)("incrementPx",i.pixels),t.xp6(3),t.Q6J("ngModel",i.snapToGrid),t.xp6(4),t.Q6J("ngModel",i.pixels),t.xp6(3),t.Q6J("transform",i.cubeTransform)("x",i.x)("y",i.y))},dependencies:[g.Fj,g.wV,g.Wl,g.JJ,g.On,P.Z,F,I],styles:[".flex[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.pad[_ngcontent-%COMP%]{padding:80px}"]})}return n})();var B=c(10009);let q=(()=>{class n{static#t=this.\u0275fac=function(o){return new(o||n)};static#n=this.\u0275mod=t.oAB({type:n});static#e=this.\u0275inj=t.cJS({imports:[p.ez,g.u5,l.c8,O.Bz.forChild([{path:"",component:z}]),B.g]})}return n})()}}]);