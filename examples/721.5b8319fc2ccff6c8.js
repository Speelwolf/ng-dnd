"use strict";(self.webpackChunkexamples=self.webpackChunkexamples||[]).push([[721],{97721:(b,g,i)=>{i.r(g),i.d(g,{routes:()=>O});var c=i(10821),m=i(28144),s=i(93054),x=i(12076),t=i(45673),l=i(47613),u=i(56301);function T(e,d){1&e&&t.GkF(0)}const Z=function(e){return{$implicit:e}};let _=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275dir=t.lG2({type:e,selectors:[["","cardInner",""]],standalone:!0})}return e})(),v=(()=>{class e{constructor(a,n){this.elRef=a,this.dnd=n,this.beginDrag=new t.vpe,this.endDrag=new t.vpe,this.handleMove=new t.vpe,this.cardSource=this.dnd.dragSource("CARD",{beginDrag:()=>(this.beginDrag.emit(),{id:this.id,index:this.index}),endDrag:r=>{const o=r.didDrop();this.endDrag.emit(o)}}),this.cardTarget=this.dnd.dropTarget("CARD",{hover:r=>{const o=r.getItem().index,p=this.index;if(o===p)return;const h=this.elRef.nativeElement.getBoundingClientRect(),f=(h.bottom-h.top)/2,C=r.getClientOffset().y-h.top;o<p&&C<f||o>p&&C>f||(this.handleMove.emit([o,p]),r.getItem().index=p)}}),this.isDragging$=this.cardSource.listen(r=>r.isDragging()),this.opacity$=this.cardSource.listen(r=>r.isDragging()?.2:1)}moveCard(a,n){this.handleMove.emit([a,n])}ngOnDestroy(){this.cardSource.unsubscribe(),this.cardTarget.unsubscribe()}static#t=this.\u0275fac=function(n){return new(n||e)(t.Y36(t.SBq),t.Y36(l.fD))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-card"]],contentQueries:function(n,r,o){if(1&n&&t.Suo(o,_,5,t.Rgc),2&n){let p;t.iGM(p=t.CRH())&&(r.cardInnerTemplate=p.first)}},inputs:{card:"card",index:"index",id:"id",text:"text"},outputs:{beginDrag:"beginDrag",endDrag:"endDrag",handleMove:"handleMove"},standalone:!0,features:[t.jDz],decls:4,vars:10,consts:[[1,"card",3,"dropTarget","dragSource"],[1,"border"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(n,r){1&n&&(t.TgZ(0,"div",0),t.ALo(1,"async"),t.TgZ(2,"div",1),t.YNc(3,T,1,0,"ng-container",2),t.qZA()()),2&n&&(t.Udp("opacity",t.lcZ(1,6,r.opacity$)),t.Q6J("dropTarget",r.cardTarget)("dragSource",r.cardSource),t.xp6(3),t.Q6J("ngTemplateOutlet",r.cardInnerTemplate)("ngTemplateOutletContext",t.VKq(8,Z,r.card)))},dependencies:[l.c8,u.$d,u.Li,s.tP,s.Ov],styles:[".card[_ngcontent-%COMP%]{margin-bottom:.25rem;background-color:#fff;cursor:move}.border[_ngcontent-%COMP%]{padding:.5rem 1rem;border:1px dashed gray}"],changeDetection:0})}return e})();var D=i(86693);function y(e,d){if(1&e&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&e){const a=d.$implicit,n=t.oxw(2).item;t.xp6(1),t.AsE("",n.index+1," ",a.text,"")}}function S(e,d){if(1&e&&(t.TgZ(0,"app-card",4),t.YNc(1,y,2,2,"span",5),t.qZA()),2&e){const a=t.oxw().item,n=t.oxw();t.Q6J("card",n.findCard(a.id))}}function A(e,d){1&e&&(t.TgZ(0,"div",2),t.YNc(1,S,2,1,"app-card",3),t.qZA()),2&e&&(t.Q6J("ngSwitch",d.$implicit),t.xp6(1),t.Q6J("ngSwitchCase","CARD"))}function M(e,d){if(1&e&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&e){const a=d.$implicit;t.xp6(1),t.Oqu(a.text)}}function U(e,d){if(1&e){const a=t.EpF();t.TgZ(0,"app-card",6),t.NdJ("handleMove",function(r){t.CHM(a);const o=t.oxw();return t.KtG(o.moveCard(r))})("beginDrag",function(){t.CHM(a);const r=t.oxw();return t.KtG(r.beginDrag())})("endDrag",function(r){t.CHM(a);const o=t.oxw();return t.KtG(o.endDrag(r))}),t.YNc(1,M,2,1,"span",5),t.qZA()}if(2&e){const a=d.$implicit;t.Q6J("index",d.index)("id",a.id)("card",a)}}let w=(()=>{class e{constructor(){this.cards=[{id:1,text:"Write a cool JS library"},{id:2,text:"Make it generic enough"},{id:3,text:"Write README"},{id:4,text:"Create some examples"},{id:5,text:"Write a glorious Medium post to promote it (note that this element is taller, and far more important, than the others)"},{id:6,text:"Sit back and relax"}],this.origCards=this.cards}findCard(a){return this.cards.find(n=>n.id===a)}beginDrag(){this.origCards=this.cards.slice(0)}endDrag(a){a||(this.cards=this.origCards)}moveCard([a,n]){const r=this.cards[a];this.cards.splice(a,1),this.cards.splice(n,0,r)}tracker(a,n){return n.id}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["basic-sortable"]],standalone:!0,features:[t.jDz],decls:4,vars:2,consts:[[1,"sorted"],[3,"index","id","card","handleMove","beginDrag","endDrag",4,"ngFor","ngForOf","ngForTrackBy"],[1,"sorted",3,"ngSwitch"],[3,"card",4,"ngSwitchCase"],[3,"card"],[4,"cardInner"],[3,"index","id","card","handleMove","beginDrag","endDrag"]],template:function(n,r){1&n&&(t.TgZ(0,"dnd-preview"),t.YNc(1,A,2,2,"ng-template"),t.qZA(),t.TgZ(2,"div",0),t.YNc(3,U,2,3,"app-card",1),t.qZA()),2&n&&(t.xp6(3),t.Q6J("ngForOf",r.cards)("ngForTrackBy",r.tracker))},dependencies:[x.XJ,D.S,s.ax,s.RF,s.n9,v,_],styles:[".sorted[_ngcontent-%COMP%]{width:100%;max-width:400px}"]})}return e})();const k=function(){return["/sortable","simple"]},O=[{path:"",component:(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["basic-sortable-container"]],standalone:!0,features:[t.jDz],decls:34,vars:2,consts:[["path","basic-sortable"],[3,"routerLink"]],template:function(n,r){1&n&&(t._UZ(0,"app-example-link",0),t.TgZ(1,"p"),t._uU(2,"You can make a sortable by:"),t.qZA(),t.TgZ(3,"ul")(4,"li"),t._uU(5,"giving each card a "),t.TgZ(6,"code"),t._uU(7,"DragSource"),t.qZA(),t._uU(8," and a "),t.TgZ(9,"code"),t._uU(10,"DropTarget"),t.qZA(),t._uU(11,";"),t.qZA(),t.TgZ(12,"li"),t._uU(13," determining when you are hovering on the upper or lower half of a neighbouring card using "),t.TgZ(14,"code"),t._uU(15,"monitor.getClientOffset()"),t.qZA(),t._uU(16,"; "),t.qZA(),t.TgZ(17,"li"),t._uU(18," working out when a reordering is necessary by comparing the index with the item in flight's index; "),t.qZA(),t.TgZ(19,"li"),t._uU(20," bubbling up reordering events, and also beginDrag, endDrag and drop events to a component that controls re-rendering the list; and "),t.qZA(),t.TgZ(21,"li"),t._uU(22,"storing a clone of your list to revert to on endDrag, or commit to on drop"),t.qZA()(),t.TgZ(23,"p"),t._uU(24," If that sounds like too much effort, this pattern is made easy and reusable in "),t.TgZ(25,"code"),t._uU(26,"@ng-dnd/sortable"),t.qZA(),t._uU(27,". You can do it without introducing a new component, too. "),t.qZA(),t.TgZ(28,"p"),t._uU(29," You can compare the source code of this example to equivalent using that abstraction, "),t.TgZ(30,"a",1),t._uU(31,"Simple list"),t.qZA(),t._uU(32,". "),t.qZA(),t._UZ(33,"basic-sortable")),2&n&&(t.xp6(30),t.Q6J("routerLink",t.DdM(1,k)))},dependencies:[c.rH,m.Z,w],encapsulation:2})}return e})()}]},28144:(b,g,i)=>{i.d(g,{Z:()=>m});var c=i(45673);let m=(()=>{class s{constructor(){this.path=""}get link(){return"https://github.com/ng-dnd/ng-dnd/tree/main/packages/examples/src/app/"+this.path}static#t=this.\u0275fac=function(l){return new(l||s)};static#e=this.\u0275cmp=c.Xpm({type:s,selectors:[["app-example-link"]],inputs:{path:"path"},standalone:!0,features:[c.jDz],decls:4,vars:1,consts:[["target","_blank",3,"href"],[1,"fab","fa-github"]],template:function(l,u){1&l&&(c.TgZ(0,"p")(1,"a",0),c._UZ(2,"i",1),c._uU(3," View the source on GitHub "),c.qZA()()),2&l&&(c.xp6(1),c.Q6J("href",u.link,c.LSH))},styles:[".fab[_ngcontent-%COMP%]{color:#000}p[_ngcontent-%COMP%]{margin-top:0}a[_ngcontent-%COMP%]{padding:8px;display:inline-block;background:rgba(68,72,224,.14);background:#e5e2fa;background:#e2ecfa;text-decoration:none}"]})}return s})()}}]);