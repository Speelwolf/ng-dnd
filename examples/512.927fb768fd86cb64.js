"use strict";(self.webpackChunkexamples=self.webpackChunkexamples||[]).push([[512],{61512:(C,g,i)=>{i.r(g),i.d(g,{routes:()=>G});var s=i(87494),u=i(87567),c=i(54739),F=i(1574),e=i(81072),l=i(62414),m=i(90789);const k=t=>({$implicit:t});function D(t,d){1&t&&e.eu8(0)}let f=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275dir=e.FsC({type:t,selectors:[["","cardInner",""]],standalone:!0})}return t})(),v=(()=>{class t{constructor(a,n){this.elRef=a,this.dnd=n,this.beginDrag=new e.bkB,this.endDrag=new e.bkB,this.handleMove=new e.bkB,this.cardSource=this.dnd.dragSource("CARD",{beginDrag:()=>(this.beginDrag.emit(),{id:this.id,index:this.index}),endDrag:r=>{const o=r.didDrop();this.endDrag.emit(o)}}),this.cardTarget=this.dnd.dropTarget("CARD",{hover:r=>{const o=r.getItem().index,p=this.index;if(o===p)return;const h=this.elRef.nativeElement.getBoundingClientRect(),_=(h.bottom-h.top)/2,b=r.getClientOffset().y-h.top;o<p&&b<_||o>p&&b>_||(this.handleMove.emit([o,p]),r.getItem().index=p)}}),this.isDragging$=this.cardSource.listen(r=>r.isDragging()),this.opacity$=this.cardSource.listen(r=>r.isDragging()?.2:1)}moveCard(a,n){this.handleMove.emit([a,n])}ngOnDestroy(){this.cardSource.unsubscribe(),this.cardTarget.unsubscribe()}static#e=this.\u0275fac=function(n){return new(n||t)(e.rXU(e.aKT),e.rXU(l.E$))};static#t=this.\u0275cmp=e.VBU({type:t,selectors:[["app-card"]],contentQueries:function(n,r,o){if(1&n&&e.wni(o,f,5,e.C4Q),2&n){let p;e.mGM(p=e.lsd())&&(r.cardInnerTemplate=p.first)}},inputs:{card:"card",index:"index",id:"id",text:"text"},outputs:{beginDrag:"beginDrag",endDrag:"endDrag",handleMove:"handleMove"},standalone:!0,features:[e.aNF],decls:4,vars:10,consts:[[1,"card",3,"dropTarget","dragSource"],[1,"border"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(n,r){1&n&&(e.j41(0,"div",0),e.nI1(1,"async"),e.j41(2,"div",1),e.DNE(3,D,1,0,"ng-container",2),e.k0s()()),2&n&&(e.xc7("opacity",e.bMT(1,6,r.opacity$)),e.Y8G("dropTarget",r.cardTarget)("dragSource",r.cardSource),e.R7$(3),e.Y8G("ngTemplateOutlet",r.cardInnerTemplate)("ngTemplateOutletContext",e.eq3(8,k,r.card)))},dependencies:[l.JG,m.LQ,m.wu,c.T3,c.Jj],styles:[".card[_ngcontent-%COMP%]{margin-bottom:.25rem;background-color:#fff;cursor:move}.border[_ngcontent-%COMP%]{padding:.5rem 1rem;border:1px dashed gray}"],changeDetection:0})}return t})();var x=i(86283);function E(t,d){if(1&t&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&t){const a=d.$implicit,n=e.XpG(2).item;e.R7$(),e.Lme("",n.index+1," ",a.text,"")}}function T(t,d){if(1&t&&(e.j41(0,"app-card",4),e.DNE(1,E,2,2,"span",5),e.k0s()),2&t){const a=e.XpG().item,n=e.XpG();e.Y8G("card",n.findCard(a.id))}}function y(t,d){1&t&&(e.j41(0,"div",2),e.DNE(1,T,2,1,"app-card",3),e.k0s()),2&t&&(e.Y8G("ngSwitch",d.$implicit),e.R7$(),e.Y8G("ngSwitchCase","CARD"))}function j(t,d){if(1&t&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&t){const a=d.$implicit;e.R7$(),e.JRh(a.text)}}function B(t,d){if(1&t){const a=e.RV6();e.j41(0,"app-card",6),e.bIt("handleMove",function(r){e.eBV(a);const o=e.XpG();return e.Njj(o.moveCard(r))})("beginDrag",function(){e.eBV(a);const r=e.XpG();return e.Njj(r.beginDrag())})("endDrag",function(r){e.eBV(a);const o=e.XpG();return e.Njj(o.endDrag(r))}),e.DNE(1,j,2,1,"span",5),e.k0s()}if(2&t){const a=d.$implicit;e.Y8G("index",d.index)("id",a.id)("card",a)}}let S=(()=>{class t{constructor(){this.cards=[{id:1,text:"Write a cool JS library"},{id:2,text:"Make it generic enough"},{id:3,text:"Write README"},{id:4,text:"Create some examples"},{id:5,text:"Write a glorious Medium post to promote it (note that this element is taller, and far more important, than the others)"},{id:6,text:"Sit back and relax"}],this.origCards=this.cards}findCard(a){return this.cards.find(n=>n.id===a)}beginDrag(){this.origCards=this.cards.slice(0)}endDrag(a){a||(this.cards=this.origCards)}moveCard([a,n]){const r=this.cards[a];this.cards.splice(a,1),this.cards.splice(n,0,r)}tracker(a,n){return n.id}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275cmp=e.VBU({type:t,selectors:[["basic-sortable"]],standalone:!0,features:[e.aNF],decls:4,vars:2,consts:[[1,"sorted"],[3,"index","id","card","handleMove","beginDrag","endDrag",4,"ngFor","ngForOf","ngForTrackBy"],[1,"sorted",3,"ngSwitch"],[3,"card",4,"ngSwitchCase"],[3,"card"],[4,"cardInner"],[3,"handleMove","beginDrag","endDrag","index","id","card"]],template:function(n,r){1&n&&(e.j41(0,"dnd-preview"),e.DNE(1,y,2,2,"ng-template"),e.k0s(),e.j41(2,"div",0),e.DNE(3,B,2,3,"app-card",1),e.k0s()),2&n&&(e.R7$(3),e.Y8G("ngForOf",r.cards)("ngForTrackBy",r.tracker))},dependencies:[F._X,x.J,c.pM,c.ux,c.e1,v,f],styles:[".sorted[_ngcontent-%COMP%]{width:100%;max-width:400px}"]})}return t})();const M=()=>["/sortable","simple"],G=[{path:"",component:(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275cmp=e.VBU({type:t,selectors:[["basic-sortable-container"]],standalone:!0,features:[e.aNF],decls:34,vars:2,consts:[["path","basic-sortable"],[3,"routerLink"]],template:function(n,r){1&n&&(e.nrm(0,"app-example-link",0),e.j41(1,"p"),e.EFF(2,"You can make a sortable by:"),e.k0s(),e.j41(3,"ul")(4,"li"),e.EFF(5,"giving each card a "),e.j41(6,"code"),e.EFF(7,"DragSource"),e.k0s(),e.EFF(8," and a "),e.j41(9,"code"),e.EFF(10,"DropTarget"),e.k0s(),e.EFF(11,";"),e.k0s(),e.j41(12,"li"),e.EFF(13," determining when you are hovering on the upper or lower half of a neighbouring card using "),e.j41(14,"code"),e.EFF(15,"monitor.getClientOffset()"),e.k0s(),e.EFF(16,"; "),e.k0s(),e.j41(17,"li"),e.EFF(18," working out when a reordering is necessary by comparing the index with the item in flight's index; "),e.k0s(),e.j41(19,"li"),e.EFF(20," bubbling up reordering events, and also beginDrag, endDrag and drop events to a component that controls re-rendering the list; and "),e.k0s(),e.j41(21,"li"),e.EFF(22,"storing a clone of your list to revert to on endDrag, or commit to on drop"),e.k0s()(),e.j41(23,"p"),e.EFF(24," If that sounds like too much effort, this pattern is made easy and reusable in "),e.j41(25,"code"),e.EFF(26,"@ng-dnd/sortable"),e.k0s(),e.EFF(27,". You can do it without introducing a new component, too. "),e.k0s(),e.j41(28,"p"),e.EFF(29," You can compare the source code of this example to equivalent using that abstraction, "),e.j41(30,"a",1),e.EFF(31,"Simple list"),e.k0s(),e.EFF(32,". "),e.k0s(),e.nrm(33,"basic-sortable")),2&n&&(e.R7$(30),e.Y8G("routerLink",e.lJ4(1,M)))},dependencies:[s.Wk,u.G,S],encapsulation:2})}return t})()}]},87567:(C,g,i)=>{i.d(g,{G:()=>u});var s=i(81072);let u=(()=>{class c{constructor(){this.path=""}get link(){return"https://github.com/ng-dnd/ng-dnd/tree/main/packages/examples/src/app/"+this.path}static#e=this.\u0275fac=function(l){return new(l||c)};static#t=this.\u0275cmp=s.VBU({type:c,selectors:[["app-example-link"]],inputs:{path:"path"},standalone:!0,features:[s.aNF],decls:4,vars:1,consts:[["target","_blank",3,"href"],[1,"fab","fa-github"]],template:function(l,m){1&l&&(s.j41(0,"p")(1,"a",0),s.nrm(2,"i",1),s.EFF(3," View the source on GitHub "),s.k0s()()),2&l&&(s.R7$(),s.Y8G("href",m.link,s.B4B))},styles:[".fab[_ngcontent-%COMP%]{color:#000}p[_ngcontent-%COMP%]{margin-top:0}a[_ngcontent-%COMP%]{padding:8px;display:inline-block;background:#4448e024;background:#e5e2fa;background:#e2ecfa;text-decoration:none}"]})}return c})()}}]);