"use strict";(self.webpackChunkexamples=self.webpackChunkexamples||[]).push([[204],{5204:(tt,h,r)=>{r.r(h),r.d(h,{QuizModule:()=>V});var _,v,a=r(17011),s=r(25568),Z=r(10009),f=r(4730),T=r(14595),C=r(62359),u=r(61569),t=r(31385),w=r(74967),l=r(14355),p=(()=>{return(e=p||(p={})).Math="Math",e.Name="Name",p;var e})();let d=(()=>{class e{constructor(n,i,c){this.id=n,this.question=i,this.answer=c,this[_]=!0,this.formType=p.Math,this.templateDescription=e.templateDescription}}return _=l.sc,e.templateDescription="Math question",e})(),x=(()=>{class e{constructor(n){this.id=n,this[v]=!0,this.formType=p.Name,this.templateDescription=e.templateDescription}}return v=l.sc,e.templateDescription="Name and student ID",e})();var m=r(10231),q=r(59857),y=r(43554),I=r(64365),Q=r(48307),S=r(82817);function M(e,o){1&e&&(t.TgZ(0,"div"),t._uU(1," That's not quite right. "),t.qZA())}function A(e,o){1&e&&(t.TgZ(0,"div"),t._uU(1,"Correct!"),t.qZA())}function N(e,o){if(1&e&&(t.TgZ(0,"div",8),t.YNc(1,M,2,0,"div",9),t.YNc(2,A,2,0,"div",9),t.qZA()),2&e){const n=o.ngIf;t.xp6(1),t.Q6J("ngIf",n.invalid&&(n.touched||n.dirty)&&(null==n.errors?null:n.errors.incorrect)),t.xp6(1),t.Q6J("ngIf",n.valid)}}function U(e,o){if(1&e&&(t.TgZ(0,"div")(1,"h4"),t._uU(2),t.qZA(),t.TgZ(3,"form",5),t._UZ(4,"input",6),t.YNc(5,N,3,2,"div",7),t.qZA()()),2&e){const n=t.oxw().$implicit,i=t.oxw();t.xp6(2),t.Oqu(i.getQuestion(n)),t.xp6(1),t.Q6J("formGroup",n.input),t.xp6(2),t.Q6J("ngIf",n.input.get("answer"))}}function J(e,o){1&e&&(t.TgZ(0,"div"),t._uU(1," Please enter a student ID in the form 's1234'. "),t.qZA())}function b(e,o){if(1&e&&(t.TgZ(0,"div",8),t.YNc(1,J,2,0,"div",9),t.qZA()),2&e){const n=o.ngIf;t.xp6(1),t.Q6J("ngIf",n.invalid&&(n.touched||n.dirty)&&(null==n.errors?null:n.errors.pattern))}}function P(e,o){if(1&e&&(t.TgZ(0,"div")(1,"h4"),t._uU(2,"Enter your Name and Student Id"),t.qZA(),t.TgZ(3,"form",5)(4,"label"),t._uU(5," Name "),t._UZ(6,"input",10),t.qZA(),t.TgZ(7,"label"),t._uU(8," Student ID "),t._UZ(9,"input",11),t.qZA(),t.YNc(10,b,2,1,"div",7),t.qZA()()),2&e){const n=t.oxw().$implicit;t.xp6(3),t.Q6J("formGroup",n.input),t.xp6(7),t.Q6J("ngIf",n.input.get("studentId"))}}function O(e,o){if(1&e&&(t.TgZ(0,"div",2),t.ynx(1,3),t.YNc(2,U,6,3,"div",4),t.YNc(3,P,11,2,"div",4),t.BQk(),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.Q6J("ngSwitch",n.question.formType),t.xp6(1),t.Q6J("ngSwitchCase","Math"),t.xp6(1),t.Q6J("ngSwitchCase","Name")}}const L=e=>o=>o.value===e?null:{incorrect:!0};let F=(()=>{class e{constructor(){this.sections=[]}set formElements(n){this.sections=n.map(i=>({question:i,input:this.getFormGroup(i)}))}getFormGroup(n){switch(n.formType){case p.Math:return new s.cw({answer:new s.NI(null,[s.kI.required,L(n.answer)])});case p.Name:return new s.cw({name:new s.NI(null,[s.kI.required]),studentId:new s.NI(null,[s.kI.required,s.kI.pattern(/^s\d{4}$/)])})}}getQuestion(n){return n.question.question}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-printout"]],inputs:{formElements:"formElements"},decls:2,vars:1,consts:[[1,"printout-page"],["class","printout-elem",4,"ngFor","ngForOf"],[1,"printout-elem"],[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"formGroup"],["formControlName","answer","type","number"],["class","alert alert-danger",4,"ngIf"],[1,"alert","alert-danger"],[4,"ngIf"],["formControlName","name"],["formControlName","studentId"]],template:function(n,i){1&n&&(t.TgZ(0,"div",0),t.YNc(1,O,4,3,"div",1),t.qZA()),2&n&&(t.xp6(1),t.Q6J("ngForOf",i.sections))},dependencies:[a.sg,a.O5,a.RF,a.n9,s._Y,s.Fj,s.wV,s.JJ,s.JL,s.sg,s.u],styles:[".ng-valid[_ngcontent-%COMP%]:not(form){border-left:5px solid #42a948}.ng-invalid[_ngcontent-%COMP%]:not(form){border-left:5px solid #a94442}"]}),e})();function Y(e,o){1&e&&t._UZ(0,"input",4)}let D=(()=>{class e{constructor(){this.edit=new t.vpe}ngOnChanges(){this.form=new s.cw({question:new s.NI(this.data.question),answer:new s.NI(this.data.answer)})}onSubmit(){this.edit.emit(new d(this.data.id,this.form.get("question")?.value,this.form.get("answer")?.value))}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-math-form"]],inputs:{data:"data"},outputs:{edit:"edit"},features:[t.TTD],decls:11,vars:2,consts:[[3,"formGroup","ngSubmit"],["placeholder","Add a card","formControlName","question",1,"title"],["type","number","formControlName","answer",1,"amount"],["type","submit","value","Save question",4,"ngIf"],["type","submit","value","Save question"]],template:function(n,i){1&n&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return i.onSubmit()}),t.TgZ(1,"div")(2,"label"),t._uU(3," Question: "),t._UZ(4,"input",1),t.qZA()(),t.TgZ(5,"div")(6,"label"),t._uU(7," Answer: "),t._UZ(8,"input",2),t.qZA()(),t.TgZ(9,"div"),t.YNc(10,Y,1,0,"input",3),t.qZA()()),2&n&&(t.Q6J("formGroup",i.form),t.xp6(10),t.Q6J("ngIf",i.form.dirty))},dependencies:[a.O5,s._Y,s.Fj,s.wV,s.JJ,s.JL,s.sg,s.u],encapsulation:2}),e})();function E(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"app-math-form",6),t.NdJ("edit",function(c){t.CHM(n);const g=t.oxw(2);return t.KtG(g.edit.emit(c))}),t.qZA()}if(2&e){const n=t.oxw(2);t.Q6J("data",n.getMathQuestion())}}function z(e,o){1&e&&(t.TgZ(0,"div"),t._uU(1,"Student enters their name/student id"),t.qZA())}function k(e,o){if(1&e&&(t.TgZ(0,"div",1),t.ALo(1,"async"),t.TgZ(2,"span",2),t._uU(3," \u2630 "),t.qZA(),t.TgZ(4,"div",3),t.YNc(5,E,1,1,"app-math-form",4),t.YNc(6,z,2,0,"div",5),t.qZA()()),2&e){const n=t.oxw();t.ekj("section--placeholder",t.lcZ(1,10,n.render.isDragging$))("section--preview",n.preview),t.Q6J("dragPreview",n.render.source),t.xp6(2),t.Q6J("dragSource",n.render.source)("noHTML5Preview",!0),t.xp6(2),t.Q6J("ngSwitch",n.question.formType),t.xp6(1),t.Q6J("ngSwitchCase","Math"),t.xp6(1),t.Q6J("ngSwitchCase","Name")}}let B=(()=>{class e{getMathQuestion(){return this.question}constructor(n){this.render=n,this.preview=!1,this.edit=new t.vpe}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(u.UH,8))},e.\u0275cmp=t.Xpm({type:e,selectors:[["quiz-section"]],inputs:{question:"question",preview:"preview"},outputs:{edit:"edit"},decls:1,vars:1,consts:[["class","section",3,"section--placeholder","section--preview","dragPreview",4,"ngIf"],[1,"section",3,"dragPreview"],[1,"section-handle",3,"dragSource","noHTML5Preview"],[1,"section-content",3,"ngSwitch"],[3,"data","edit",4,"ngSwitchCase"],[4,"ngSwitchCase"],[3,"data","edit"]],template:function(n,i){1&n&&t.YNc(0,k,7,12,"div",0),2&n&&t.Q6J("ngIf",i.render)},dependencies:[a.O5,a.RF,a.n9,m.$d,m.sf,D,a.Ov],styles:["[_nghost-%COMP%]{display:block}.section[_ngcontent-%COMP%]{min-width:0;width:100%;max-width:300px;color:#1111a7;background:rgb(226,236,250);display:flex}.section--preview[_ngcontent-%COMP%], [_nghost-%COMP%]:not(:last-child)   .section[_ngcontent-%COMP%]{border-bottom:1px solid #7593bf}.section-handle[_ngcontent-%COMP%]{cursor:move;color:#333;margin-right:4px}.section-handle[_ngcontent-%COMP%], .section-content[_ngcontent-%COMP%]{padding:6px}.section--placeholder[_ngcontent-%COMP%]{opacity:.4;background:#eee}"]}),e})();function G(e,o){if(1&e&&(t.ynx(0),t._UZ(1,"quiz-section",13),t.BQk()),2&e){const n=t.oxw(2).item;t.xp6(1),t.Q6J("question",n.data)("preview",!0)}}function R(e,o){if(1&e&&(t.TgZ(0,"div",14),t._uU(1),t.qZA()),2&e){const n=t.oxw(2).item;t.Q6J("ngStyle",n.size.style()),t.xp6(1),t.hij(" ",n.data.templateDescription," ")}}function $(e,o){if(1&e&&(t.ynx(0),t.YNc(1,G,2,2,"ng-container",11),t.YNc(2,R,2,2,"ng-template",null,12,t.W1O),t.BQk()),2&e){const n=t.MAs(3),i=t.oxw().item;t.xp6(1),t.Q6J("ngIf",i.isInternal||"WORK_AREA"===i.hover.listId)("ngIfElse",n)}}function H(e,o){1&e&&t.YNc(0,$,4,2,"ng-container",10),2&e&&t.Q6J("ngIf","QUIZ_QUESTION"===o.$implicit)}function j(e,o){if(1&e&&(t.TgZ(0,"div",15,16),t._uU(2),t.qZA()),2&e){const n=o.$implicit,i=t.MAs(1);t.Q6J("dndSortableExternal",n.spec)("dragSource",i.source)("noHTML5Preview",!0),t.xp6(2),t.hij(" ",n.description," ")}}function X(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"quiz-section",17,18),t.NdJ("edit",function(c){t.CHM(n);const g=t.oxw();return t.KtG(g.edit(c))}),t.qZA()}if(2&e){const n=o.$implicit,i=t.MAs(1);t.Udp("display","block"),t.Q6J("dndSortableRender",n)("question",i.data)}}let W=(()=>{class e{constructor(n){this.dnd=n,this.spill=(0,u.De)(this.dnd,"QUIZ_QUESTION",{drop:i=>{i.isInternal&&(this.list=this.tempList=this.remove(i))}}),this.list=[new d(1,"What is 2+2?",4),new d(2,"What is the meaning of life?",42),new d(3,"What is 1137 mod 256?",113)],this.nextId=4,this.tempList=this.list,this.spec={type:"QUIZ_QUESTION",trackBy:i=>i.id,hover:i=>{this.tempList=this.move(i)},drop:i=>{this.tempList=this.list=this.move(i)},endDrag:i=>{this.tempList=this.list}},this.nameBlock={...this.spec,createData:()=>new x(this.nextId++)},this.mathQuestion={...this.spec,createData:()=>new d(this.nextId++,"New math question",0)},this.questionTemplates=[{spec:this.nameBlock,description:x.templateDescription},{spec:this.mathQuestion,description:d.templateDescription}]}move(n){return(0,l.Uy)(this.list,i=>{n.isInternal&&i.splice(n.index,1),i.splice(n.hover.index,0,n.data)})}remove(n){return(0,l.Uy)(this.list,i=>{i.splice(n.index,1)})}edit(n){const i=this.list.findIndex(c=>c.id===n.id);if(i>=0){const c=this.list.slice(0);c.splice(i,1,n),this.tempList=this.list=c}}ngOnDestroy(){this.spill.unsubscribe()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(f.fD))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-external-sortable"]],decls:17,vars:6,consts:[[3,"allBackends"],[1,"flex",3,"dropTarget"],[1,"templates"],[1,"templates-flex"],["class","external",3,"dndSortableExternal","dragSource","noHTML5Preview",4,"ngFor","ngForOf"],[1,"work-area"],["listId","WORK_AREA",1,"list",3,"spec","children"],[3,"display","dndSortableRender","question","edit",4,"dndSortableTemplate"],[1,"printout"],[3,"formElements"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["external",""],[3,"question","preview"],[1,"external",3,"ngStyle"],[1,"external",3,"dndSortableExternal","dragSource","noHTML5Preview"],["ext","dndSortableExternal"],[3,"dndSortableRender","question","edit"],["r","dndSortableRender"]],template:function(n,i){1&n&&(t.TgZ(0,"dnd-preview",0),t.YNc(1,H,1,1,"ng-template"),t.qZA(),t.TgZ(2,"div",1)(3,"div",2)(4,"h3"),t._uU(5,"Drag templates"),t.qZA(),t.TgZ(6,"div",3),t.YNc(7,j,3,4,"div",4),t.qZA()(),t.TgZ(8,"div",5)(9,"h3"),t._uU(10,"...into here; edit them"),t.qZA(),t.TgZ(11,"dnd-sortable-list",6),t.YNc(12,X,2,4,"quiz-section",7),t.qZA()(),t.TgZ(13,"div",8)(14,"h3"),t._uU(15,"... then try the quiz out"),t.qZA(),t._UZ(16,"app-printout",9),t.qZA()()),2&n&&(t.Q6J("allBackends",!0),t.xp6(2),t.Q6J("dropTarget",i.spill),t.xp6(5),t.Q6J("ngForOf",i.questionTemplates),t.xp6(4),t.Q6J("spec",i.spec)("children",i.tempList),t.xp6(5),t.Q6J("formElements",i.list))},dependencies:[a.sg,a.O5,a.PC,m.$d,m.Li,q.S,y.J,I.S,Q.U,S.Y,F,B],styles:["@media screen and (min-width: 480px){.flex[_ngcontent-%COMP%]{display:flex}.flex[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{min-width:0;padding:4px}}h3[_ngcontent-%COMP%]{border-bottom:2px solid #dedede;padding-bottom:6px}.templates-flex[_ngcontent-%COMP%]{display:flex;align-items:flex-start;flex-direction:column}.external[_ngcontent-%COMP%]{background:#ffe5df;color:#ab4a30;padding:4px;margin-bottom:8px;border-top:2px solid #f9ede9;border-bottom:2px solid #efc5ba;min-width:0}"]}),e})(),K=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["quiz-container"]],decls:14,vars:0,consts:[["path","sortable/quiz"]],template:function(n,i){1&n&&(t._UZ(0,"app-example-link",0),t.TgZ(1,"p"),t._uU(2," This example does the same list operations as the 'Simple list' example, but it does them with "),t.TgZ(3,"code"),t._uU(4,"immer"),t.qZA(),t._uU(5," just to shake things up. "),t.qZA(),t.TgZ(6,"p"),t._uU(7," It also uses the "),t.TgZ(8,"code"),t._uU(9,"[dndSortableExternal]"),t.qZA(),t._uU(10," directive to allow dragging in items that aren't already managed by a list. "),t.qZA(),t.TgZ(11,"p"),t._uU(12," It also uses a 'spillTarget', attached outside the work area, which allows the preview to morph as you drag templates over the work area and out again. "),t.qZA(),t._UZ(13,"app-external-sortable"))},dependencies:[w.Z,W],encapsulation:2}),e})(),V=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[a.ez,s.UX,Z.g,f.c8,C.XJ,u.tG,T.Bz.forChild([{path:"",component:K}])]}),e})()}}]);