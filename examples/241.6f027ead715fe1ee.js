"use strict";(self.webpackChunkexamples=self.webpackChunkexamples||[]).push([[241],{11241:(w,g,r)=>{r.r(g),r.d(g,{routes:()=>$t});var c=r(54739),u=r(87567),t=r(81072);class B{constructor(){this.$implicit=null,this.ngLet=null}}let f=(()=>{class e{set ngLet(n){this._context.$implicit=this._context.ngLet=n}constructor(n,o){this._vcr=n,this._templateRef=o,this._context=new B}ngOnInit(){this._vcr.createEmbeddedView(this._templateRef,this._context)}static#t=this.\u0275fac=function(o){return new(o||e)(t.rXU(t.c1b),t.rXU(t.C4Q))};static#n=this.\u0275dir=t.FsC({type:e,selectors:[["","ngLet",""]],inputs:{ngLet:"ngLet"},standalone:!0})}return e})();var p=r(62414);var F=r(90789);let R=(()=>{class e{constructor(n){this.dnd=n,this.beginDrag=new t.bkB,this.endDrag=new t.bkB,this.source=this.dnd.dragSource("EMAIL",{beginDrag:()=>(this.beginDrag.emit(),{}),endDrag:()=>{this.endDrag.emit()}}),this.opacity=this.source.listen(o=>o.isDragging()?.4:1)}ngOnDestroy(){this.source.unsubscribe()}static#t=this.\u0275fac=function(o){return new(o||e)(t.rXU(p.E$))};static#n=this.\u0275cmp=t.VBU({type:e,selectors:[["drilldown-source"]],outputs:{beginDrag:"beginDrag",endDrag:"endDrag"},standalone:!0,features:[t.aNF],decls:4,vars:5,consts:[[3,"dragSource"]],template:function(o,i){1&o&&(t.j41(0,"div",0),t.nI1(1,"async"),t.j41(2,"p"),t.EFF(3,"Drag this!"),t.k0s()()),2&o&&(t.xc7("opacity",t.bMT(1,3,i.opacity)),t.Y8G("dragSource",i.source))},dependencies:[p.JG,F.LQ,c.Jj],styles:["div[_ngcontent-%COMP%]{border:1px dashed #777;background:#fff;padding:.5rem 1rem;margin-bottom:.5rem;background-color:#fff;width:8rem}div[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{display:inline-block;padding:3px;margin:0}"]})}return e})();var m=r(51044),k=r(52667),y=r(46072),T=r(67370),b=r(79668),d=r(29893),U=r(74442);const x=new(r(96225).q)(U.R),V=x;var Y=r(59091),v=r(31451),K=r(37107),J=r(81093),S=r(50483),E=r(47152);function $(e,s){return s?n=>(0,Y.x)(s.pipe((0,v.s)(1),(0,K.w)()),n.pipe($(e))):(0,S.Z)((n,o)=>(0,E.Tg)(e(n,o)).pipe((0,v.s)(1),(0,J.u)(n)))}var O=r(46335),H=r(92576);function Z(e,s=x){const n=function Q(e=0,s,n=V){let o=-1;return null!=s&&((0,H.m)(s)?n=s:o=s),new O.c(i=>{let a=function W(e){return e instanceof Date&&!isNaN(e)}(e)?+e-n.now():e;a<0&&(a=0);let D=0;return n.schedule(function(){i.closed||(i.next(D++),0<=o?this.schedule(void 0,o):i.complete())},a)})}(e,s);return $(()=>n)}var z=r(76211);class _{constructor(s,n){this.type=s,this.item=n}}var tt=r(80690),nt=r(22978),et=r(65729),ot=r(7595),st=r(15680);const rt={connector:()=>new k.B};function lt(e,s,n,o){n&&!(0,d.T)(n)&&(o=n);const i=(0,d.T)(n)?n:void 0;return a=>function ct(e,s){const n=(0,d.T)(e)?e:()=>e;return(0,d.T)(s)?function at(e,s=rt){const{connector:n}=s;return(0,st.N)((o,i)=>{const a=n();(0,E.Tg)(e(function it(e){return new O.c(s=>e.subscribe(s))}(a))).subscribe(i),i.add(o.subscribe(a))})}(s,{connector:n}):o=>new ot.G(o,n)}(new et.m(e,s,o),i)(a)}var pt=r(68500),dt=r(60142);const I="BEGIN_DRAG",M="END_DRAG",G="OPEN_TRANSIENT",N="DROP",A="TOGGLE";class gt{constructor(){this.type=I}}class ht{constructor(){this.type=M}}class ut{constructor(s){this.keys=s,this.type=G}}class ft{constructor(s){this.keys=s,this.type=N}}class mt{constructor(s){this.keys=s,this.type=A}}const P={structure:{Infraction:{Anecdotal:{Clumsily:{},Megalomaniac:{},Neurotic:{}},Basilica:{Salivate:{}},Candid:{Granada:{}}},Magnanimous:{Jalape\u00f1o:{Poppers:{}},Jalape\u00f1o2:{Poppers3:{}}},Byzantine:{Fault:{Tolerance:{}},Armadillo:{Farming:{}}}},open:{Infraction:!0,"Infraction.Basilica":!0,"Infraction.Basilica.Salivate":!0},preDragOpen:{}};let C=(()=>{class e{constructor(){this.actions$=new dt.t({type:"@@init"}),this.store$=this.actions$.pipe((0,tt.S)(e.reducer,P),(0,nt.Z)(P),lt(),(0,pt.B)())}static makeKey(n){return n.join(".")}static toggleSingle(n,o){const i=e.makeKey(o);return Object.assign({},n,{[i]:!n[i]})}static openAllAncestors(n,o){n={...n};for(let i=0;i<o.length;i++)n[e.makeKey(o.slice(0,i+1))]=!0;return n}static reducer(n,o){switch(o.type){case I:return{...n,preDragOpen:n.open};case M:return{...n,open:n.preDragOpen};case G:return{...n,open:e.openAllAncestors(n.preDragOpen,o.keys)};case N:return{...n,lastDrop:o.keys};case A:return{...n,open:e.toggleSingle(n.open,o.keys)};default:return n}}static recursiveGet(n,o){return 0===o.length?n:e.recursiveGet(n[o[0]],o.slice(0).splice(1))}select(n){return this.store$.pipe((0,m.T)(n),(0,y.F)())}isOpen(n){return this.select(o=>null==n||0===n.length||o.open[e.makeKey(n)])}getChildren(n){return this.select(o=>o).pipe((0,m.T)(o=>{const i=e.recursiveGet(o.structure,n);return Object.keys(i).sort()}))}beginDrag(){this.actions$.next(new gt)}endDrag(){this.actions$.next(new ht)}toggle(n){this.actions$.next(new mt(n))}openTransient(n){this.actions$.next(new ut(n))}drop(n){this.actions$.next(new ft(n))}static#t=this.\u0275fac=function(o){return new(o||e)};static#n=this.\u0275prov=t.jDH({token:e,factory:e.\u0275fac})}return e})();const j=e=>[e];function yt(e,s){if(1&e&&t.nrm(0,"drilldown-folder",4),2&e){const n=s.$implicit,o=t.XpG(2);t.Y8G("keys",o.keys.concat(t.eq3(1,j,n)))}}function vt(e,s){if(1&e&&(t.qex(0),t.j41(1,"ul"),t.nI1(2,"async"),t.DNE(3,yt,1,3,"drilldown-folder",3),t.nI1(4,"async"),t.k0s(),t.bVm()),2&e){const n=t.XpG();t.R7$(),t.AVh("has-children",t.bMT(2,4,n.anyChildren$)),t.R7$(2),t.Y8G("ngForOf",t.bMT(4,6,n.children$))("ngForTrackBy",n.tracker)}}function Ct(e,s){if(1&e&&(t.j41(0,"b"),t.EFF(1),t.k0s()),2&e){const n=t.XpG(2);t.R7$(),t.SpI("",n.ownKey," ...")}}function Dt(e,s){if(1&e&&t.EFF(0),2&e){const n=t.XpG(2);t.SpI(" ",n.ownKey," ")}}function Ft(e,s){if(1&e&&t.nrm(0,"drilldown-folder",4),2&e){const n=s.$implicit,o=t.XpG(3);t.Y8G("keys",o.keys.concat(t.eq3(1,j,n)))}}function kt(e,s){if(1&e&&(t.j41(0,"ul"),t.nI1(1,"async"),t.DNE(2,Ft,1,3,"drilldown-folder",3),t.nI1(3,"async"),t.k0s()),2&e){const n=t.XpG(2);t.AVh("root",0===n.keys.length)("has-children",t.bMT(1,6,n.anyChildren$)),t.R7$(2),t.Y8G("ngForOf",t.bMT(3,8,n.children$))("ngForTrackBy",n.tracker)}}function Tt(e,s){if(1&e){const n=t.RV6();t.j41(0,"li"),t.nI1(1,"async"),t.nI1(2,"async"),t.nI1(3,"async"),t.j41(4,"div",5),t.bIt("click",function(){t.eBV(n);const i=t.XpG();return t.Njj(i.toggle())}),t.DNE(5,Ct,2,1,"b",2),t.nI1(6,"async"),t.DNE(7,Dt,1,1,"ng-template",null,1,t.C5r),t.k0s(),t.DNE(9,kt,4,10,"ul",6),t.nI1(10,"async"),t.k0s()}if(2&e){const n=t.sdS(8),o=t.XpG();t.AVh("root",0===o.keys.length)("is-open",t.bMT(1,12,o.isOpen$))("is-over",t.bMT(2,14,o.isOver$))("has-children",t.bMT(3,16,o.anyChildren$)),t.R7$(4),t.Y8G("dropTarget",o.target),t.R7$(),t.Y8G("ngIf",t.bMT(6,18,o.anyChildren$))("ngIfElse",n),t.R7$(4),t.Y8G("ngIf",t.bMT(10,20,o.isOpen$))}}let bt=(()=>{class e{get ownKey(){return 0===this.keys.length?"<root>":this.keys[this.keys.length-1]}constructor(n,o,i){this.tree=n,this.dnd=o,this.ngZone=i,this.keys=[],this.target=function q(e,s,n,o){const i=new k.B,a=e.dropTarget(s,{...o,hover:l=>{i.next(new _(l.getItemType(),l.getItem())),o.hover&&o.hover(l)}}),D=a.listen(l=>l.isOver()&&l.canDrop()).pipe((0,y.F)(),(0,T.p)(l=>l)),Ot=a.listen(l=>l.isOver()).pipe((0,y.F)(),(0,T.p)(l=>!1===l)),It=D.pipe(function L(e,s){return(0,d.T)(s)?(0,b.n)(()=>e,s):(0,b.n)(()=>e)}(i.pipe(Z(n),(0,z.Q)(Ot),(0,v.s)(1)))).subscribe(o.onActivate);return a.add(It),a}(this.dnd,"EMAIL",600,{onActivate:a=>{this.tree.openTransient(this.keys)},drop:a=>{this.tree.drop(this.keys)}}),this.isOver$=this.target.listen(a=>a.isOver()&&a.canDrop())}ngOnInit(){this.children$=this.tree.getChildren(this.keys),this.anyChildren$=this.children$.pipe((0,m.T)(n=>n&&n.length>0)),this.isOpen$=this.tree.isOpen(this.keys)}tracker(n,o){return o}toggle(){this.tree.toggle(this.keys)}ngOnDestroy(){this.target.unsubscribe()}static#t=this.\u0275fac=function(o){return new(o||e)(t.rXU(C),t.rXU(p.E$),t.rXU(t.SKi))};static#n=this.\u0275cmp=t.VBU({type:e,selectors:[["drilldown-folder"]],inputs:{keys:"keys"},standalone:!0,features:[t.aNF],decls:3,vars:2,consts:[["node",""],["leaf",""],[4,"ngIf","ngIfElse"],[3,"keys",4,"ngFor","ngForOf","ngForTrackBy"],[3,"keys"],[3,"click","dropTarget"],[3,"root","has-children",4,"ngIf"]],template:function(o,i){if(1&o&&t.DNE(0,vt,5,8,"ng-container",2)(1,Tt,11,22,"ng-template",null,0,t.C5r),2&o){const a=t.sdS(2);t.Y8G("ngIf",0===i.keys.length)("ngIfElse",a)}},dependencies:[e,c.bT,c.pM,p.JG,F.wu,c.Jj],styles:['[_nghost-%COMP%]     *{margin:0;padding:0}[_nghost-%COMP%]     li.has-children{background:#fafad2;cursor:pointer}[_nghost-%COMP%]     li:not(.has-children){cursor:initial}[_nghost-%COMP%]     li.has-children>div:hover, [_nghost-%COMP%]     li.is-over>div{background:#d1c072}[_nghost-%COMP%]     ul{margin:0 0 0 20px;list-style:none;line-height:2em;font-family:Arial,sans-serif}[_nghost-%COMP%]     li{position:relative;list-style:none;font-size:16px}[_nghost-%COMP%]     li:before{position:absolute;left:-15px;top:0;content:"";display:block;border-left:1px solid #444;height:1em;border-bottom:1px solid #444;width:10px}[_nghost-%COMP%]     li:after{position:absolute;left:-15px;bottom:-7px;content:"";display:block;border-left:1px solid #444;height:100%}[_nghost-%COMP%]     li.root{margin:0 0 0 -20px}[_nghost-%COMP%]     li.root:before{display:none}[_nghost-%COMP%]     li.root:after{display:none}[_nghost-%COMP%]     li:last-child:after{display:none}'],changeDetection:0})}return e})();const xt=()=>[];function Et(e,s){if(1&e&&(t.j41(0,"p"),t.EFF(1," Last dropped on "),t.j41(2,"code"),t.EFF(3),t.k0s()()),2&e){const n=s.ngLet;t.R7$(3),t.SpI(" ",n?n.join(" > "):"(never)"," ")}}const $t=[{path:"",component:(()=>{class e{constructor(n){this.tree=n,this.lastDrop$=this.tree.select(o=>o.lastDrop)}beginDrag(){this.tree.beginDrag()}endDrag(){this.tree.endDrag()}static#t=this.\u0275fac=function(o){return new(o||e)(t.rXU(C))};static#n=this.\u0275cmp=t.VBU({type:e,selectors:[["drilldown-container"]],standalone:!0,features:[t.aNF],decls:16,vars:5,consts:[["path","drilldown"],[4,"ngLet"],[3,"beginDrag","endDrag"],[3,"keys"]],template:function(o,i){1&o&&(t.nrm(0,"app-example-link",0),t.j41(1,"p"),t.EFF(2," Hover over a folder to temporarily drill down. Click normally on a folder to open or close it. "),t.k0s(),t.j41(3,"p"),t.EFF(4," This example uses a wrapper around "),t.j41(5,"code"),t.EFF(6,"DndService#dropTarget"),t.k0s(),t.EFF(7,", that listens to dnd-core hover events and fires a callback when you have hovered long enough. This is a clean pattern for extending "),t.j41(8,"code"),t.EFF(9,"@ng-dnd/core"),t.k0s(),t.EFF(10," in a reusable way. "),t.k0s(),t.DNE(11,Et,4,1,"p",1),t.nI1(12,"async"),t.j41(13,"p")(14,"drilldown-source",2),t.bIt("beginDrag",function(){return i.beginDrag()})("endDrag",function(){return i.endDrag()}),t.k0s()(),t.nrm(15,"drilldown-folder",3)),2&o&&(t.R7$(11),t.Y8G("ngLet",t.bMT(12,2,i.lastDrop$)),t.R7$(4),t.Y8G("keys",t.lJ4(4,xt)))},dependencies:[u.G,f,R,bt,c.Jj],styles:["[_nghost-%COMP%]{display:block;min-height:600px}"]})}return e})(),providers:[C]}]},87567:(w,g,r)=>{r.d(g,{G:()=>u});var c=r(81072);let u=(()=>{class t{constructor(){this.path=""}get link(){return"https://github.com/ng-dnd/ng-dnd/tree/main/packages/examples/src/app/"+this.path}static#t=this.\u0275fac=function(p){return new(p||t)};static#n=this.\u0275cmp=c.VBU({type:t,selectors:[["app-example-link"]],inputs:{path:"path"},standalone:!0,features:[c.aNF],decls:4,vars:1,consts:[["target","_blank",3,"href"],[1,"fab","fa-github"]],template:function(p,h){1&p&&(c.j41(0,"p")(1,"a",0),c.nrm(2,"i",1),c.EFF(3," View the source on GitHub "),c.k0s()()),2&p&&(c.R7$(),c.Y8G("href",h.link,c.B4B))},styles:[".fab[_ngcontent-%COMP%]{color:#000}p[_ngcontent-%COMP%]{margin-top:0}a[_ngcontent-%COMP%]{padding:8px;display:inline-block;background:#4448e024;background:#e5e2fa;background:#e2ecfa;text-decoration:none}"]})}return t})()}}]);