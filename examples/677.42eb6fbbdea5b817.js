"use strict";(self.webpackChunkexamples=self.webpackChunkexamples||[]).push([[677],{99677:(z,m,i)=>{i.r(m),i.d(m,{routes:()=>J});var y=i(28144),s=i(38753);const p={LIST:"SIMPLE_KANBAN_LIST",CARD:"SIMPLE_KANBAN_CARD"};var d=i(93054),O=i(12076),e=i(45673);let b=(()=>{class n{constructor(){this.preview=!1,this.placeholder=!1}static#e=this.\u0275fac=function(a){return new(a||n)};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["kanban-card"]],inputs:{card:"card",preview:"preview",placeholder:"placeholder"},standalone:!0,features:[e.jDz],decls:3,vars:5,consts:[[1,"card"]],template:function(a,r){1&a&&(e.TgZ(0,"div",0)(1,"p"),e._uU(2),e.qZA()()),2&a&&(e.ekj("card--preview",r.preview)("card--placeholder",r.placeholder),e.xp6(2),e.Oqu(r.card.title))},styles:['[_nghost-%COMP%]{display:block}*[_ngcontent-%COMP%]{box-sizing:border-box}.card[_ngcontent-%COMP%]{padding:8px;border-radius:4px;position:relative;-webkit-user-select:none;user-select:none;background:#fff;box-shadow:0 1px 3px #00000014,0 1px 2px #00000029}.card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.card--preview[_ngcontent-%COMP%]{transform:rotate(-2deg);width:100%;height:100%;box-shadow:0 8px 16px #00000040,0 6px 6px #00000021}.card--placeholder[_ngcontent-%COMP%]{background:none;box-shadow:none}.card--placeholder[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{visibility:hidden}.card--placeholder[_ngcontent-%COMP%]:before{content:"";border-radius:4px;background:rgba(0,0,0,.13);box-shadow:inset 0 3px 7px #00000021,inset 0 1px 3px #00000038;position:absolute;top:0;left:0;width:100%;height:100%}']})}return n})();var x=i(47613),v=i(72908);let h=(()=>{class n{constructor(){this.initialTree=[{id:1,title:"To Do",cards:[{listId:1,id:10,title:"Write a new song"},{listId:1,id:20,title:"Put the lyrics to music"}]},{id:2,title:"Doing",cards:[{listId:2,id:30,title:"Rig up the speakers"}]},{id:3,title:"Done",cards:[]}],this.savedTree=this.initialTree,this.tree=this.initialTree,this.boardSpec={type:p.LIST,trackBy:t=>t.id,hover:t=>{this.tree=this.moveList(t)},drop:t=>{this.tree=this.savedTree=this.moveList(t)},endDrag:t=>{this.tree=this.savedTree}},this.listSpec={type:p.CARD,trackBy:t=>t.id,hover:t=>{this.tree=this.moveCard(t)},drop:t=>{this.tree=this.savedTree=this.moveCard(t)},endDrag:t=>{this.tree=this.savedTree}}}moveList(t){return(0,v.Uy)(this.savedTree,a=>{t.isInternal&&a.splice(t.index,1),a.splice(t.hover.index,0,t.data)})}moveCard(t){return(0,v.Uy)(this.savedTree,a=>{const{listId:r,index:c}=t,{listId:l,index:g}=t.hover;console.info("from",r,c,"to",l,g);const T=a.find(u=>u.id===r),w=a.find(u=>u.id===l);if(!T||(t.isInternal&&T.cards.splice(c,1),!w))return;const K={...t.data,listId:l};w.cards.splice(g,0,K)})}static#e=this.\u0275fac=function(a){return new(a||n)};static#t=this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac})}return n})();var k=i(56301),C=i(36072),f=i(47545),_=i(55561);function M(n,o){if(1&n&&(e._UZ(0,"kanban-card",5,6),e.ALo(2,"async")),2&n){const t=o.$implicit,a=e.MAs(1);e.Q6J("dndSortableRender",t)("dragSource",a.source)("card",t.data)("noHTML5Preview",!0)("placeholder",!!e.lcZ(2,5,a.isDragging$))}}function Z(n,o){1&n&&e._UZ(0,"kanban-card",9),2&n&&e.Q6J("card",o.$implicit)}function P(n,o){if(1&n&&(e.TgZ(0,"div",7),e.YNc(1,Z,1,1,"kanban-card",8),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.list.cards)("ngForTrackBy",t.trackById)}}let S=(()=>{class n{constructor(t,a){this.specs=t,this.render=a,this.preview=!1,this.addCard=new e.vpe,this.placeholder$=this.render&&this.render.source.listen(r=>r.isDragging()),this.isOver$=this.render&&this.render.target.listen(r=>r.canDrop()&&r.isOver()),this.trackById=(r,c)=>c.id}static#e=this.\u0275fac=function(a){return new(a||n)(e.Y36(h),e.Y36(s.UH,8))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["kanban-list"]],inputs:{list:"list",preview:"preview"},outputs:{addCard:"addCard"},standalone:!0,features:[e.jDz],decls:9,vars:12,consts:[[1,"list"],[1,"handle",3,"dragSource","noHTML5Preview"],[1,"cards-container",3,"spec","children","listId"],["dndSortableTemplate",""],["plain",""],[3,"dndSortableRender","dragSource","card","noHTML5Preview","placeholder"],["render","dndSortableRender"],[1,"cards-container"],[3,"card",4,"ngFor","ngForOf","ngForTrackBy"],[3,"card"]],template:function(a,r){1&a&&(e.TgZ(0,"div",0),e.ALo(1,"async"),e.TgZ(2,"div",1)(3,"h3"),e._uU(4),e.qZA()(),e.TgZ(5,"dnd-sortable-list",2),e.YNc(6,M,3,7,"ng-template",3),e.qZA(),e.YNc(7,P,2,2,"ng-template",null,4,e.W1O),e.qZA()),2&a&&(e.ekj("list--preview",r.preview)("list--placeholder",e.lcZ(1,10,null==r.render?null:r.render.isDragging$)),e.xp6(2),e.Q6J("dragSource",null==r.render?null:r.render.source)("noHTML5Preview",!0),e.xp6(2),e.Oqu(r.list.title),e.xp6(1),e.Q6J("spec",r.specs.listSpec)("children",r.list.cards)("listId",r.list.id))},dependencies:[x.c8,k.$d,s.tG,C.J,f.S,_.U,b,d.ax,d.Ov],styles:['*[_ngcontent-%COMP%]{box-sizing:border-box}.cards-container[_ngcontent-%COMP%]{min-height:20px}.cards-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-bottom:6px}.list[_ngcontent-%COMP%]{position:relative;width:240px;padding:8px;border-radius:4px;-webkit-user-select:none;user-select:none;background:#eee;box-shadow:0 1px 3px #00000014,0 1px 2px #00000029}.list--preview[_ngcontent-%COMP%]{box-shadow:0 14px 28px #0003,0 10px 10px #0000001a}.list--placeholder[_ngcontent-%COMP%]{background:none;box-shadow:none}.list--placeholder[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{visibility:hidden}.list--placeholder[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.13);border-radius:4px;box-shadow:inset 0 3px 7px #00000021,inset 0 1px 3px #00000038}.handle[_ngcontent-%COMP%]{margin:-8px;padding:8px}.handle[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px}']})}return n})();var A=i(86693);function I(n,o){if(1&n&&e._UZ(0,"kanban-card",6),2&n){const t=e.oxw().item;e.Q6J("card",t.data)("preview",!0)("ngStyle",t.size.style())}}function U(n,o){if(1&n&&e._UZ(0,"kanban-list",7),2&n){const t=e.oxw().item;e.Q6J("list",t.data)("preview",!0)("ngStyle",t.size.style())}}function D(n,o){if(1&n&&(e.ynx(0,3),e.YNc(1,I,1,3,"kanban-card",4),e.YNc(2,U,1,3,"kanban-list",5),e.BQk()),2&n){const t=o.$implicit,a=e.oxw();e.Q6J("ngSwitch",t),e.xp6(1),e.Q6J("ngSwitchCase",a.ItemTypes.CARD),e.xp6(1),e.Q6J("ngSwitchCase",a.ItemTypes.LIST)}}function L(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"kanban-list",8),e.NdJ("addCard",function(r){const l=e.CHM(t).$implicit,g=e.oxw();return e.KtG(g.addCard(l.data.id,r))}),e.qZA()}if(2&n){const t=o.$implicit;e.Q6J("dndSortableRender",t)("list",t.data)}}let B=(()=>{class n{constructor(t){this.specs=t,this.ItemTypes=p,this.hoverTrigger=s.SO.fixed}addCard(t,a){}removeCard(t){}static#e=this.\u0275fac=function(a){return new(a||n)(e.Y36(h))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["kanban-board"]],standalone:!0,features:[e.jDz],decls:4,vars:6,consts:[[3,"allBackends"],[1,"kanban-root",3,"hoverTrigger","listId","children","spec","horizontal"],["dndSortableTemplate",""],[3,"ngSwitch"],[3,"card","preview","ngStyle",4,"ngSwitchCase"],[3,"list","preview","ngStyle",4,"ngSwitchCase"],[3,"card","preview","ngStyle"],[3,"list","preview","ngStyle"],[3,"dndSortableRender","list","addCard"]],template:function(a,r){1&a&&(e.TgZ(0,"dnd-preview",0),e.YNc(1,D,3,3,"ng-template"),e.qZA(),e.TgZ(2,"dnd-sortable-list",1),e.YNc(3,L,1,2,"ng-template",2),e.qZA()),2&a&&(e.Q6J("allBackends",!0),e.xp6(2),e.Q6J("hoverTrigger",r.hoverTrigger)("listId",888)("children",r.specs.tree)("spec",r.specs.boardSpec)("horizontal",!0))},dependencies:[O.XJ,A.S,s.tG,C.J,f.S,_.U,d.PC,d.RF,d.n9,b,S],styles:["*[_ngcontent-%COMP%]{box-sizing:border-box}.kanban-root[_ngcontent-%COMP%]{background:#50ddb0;flex:1;display:flex;min-height:500px;overflow-x:scroll;padding:8px;justify-content:flex-start}.kanban-root[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-right:8px}.trash-zone[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;text-align:right}"]})}return n})();const J=[{path:"",component:(()=>{class n{constructor(t,a){this.dnd=t,this.el=a,this.cardSpill=(0,s.De)(this.dnd,p.CARD,{})}ngAfterViewInit(){}ngOnDestroy(){this.cardSpill.unsubscribe()}static#e=this.\u0275fac=function(a){return new(a||n)(e.Y36(x.fD),e.Y36(e.SBq))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["kanban-container"]],standalone:!0,features:[e.jDz],decls:26,vars:0,consts:[[1,"text"],["path","sortable/simple-kanban"],[1,"span","span--darkblue"],[1,"span","span--light"],[1,"relative"]],template:function(a,r){1&a&&(e.TgZ(0,"div",0),e._UZ(1,"app-example-link",1),e.TgZ(2,"p"),e._uU(3," This example uses "),e.TgZ(4,"code"),e._uU(5,"@ng-dnd/sortable"),e.qZA(),e._uU(6,". It's similar to the other one, but doesn't use "),e.TgZ(7,"code"),e._uU(8,"@ngrx"),e.qZA(),e._uU(9,", just "),e.TgZ(10,"code"),e._uU(11,"Immer"),e.qZA(),e._uU(12,". There are two kinds of sortable in play here: "),e.qZA(),e.TgZ(13,"ul")(14,"li"),e._uU(15,"One "),e.TgZ(16,"span",2),e._uU(17,"horizontal"),e.qZA(),e._uU(18," one, whose 'cards' are the vertical lists. Try grabbing a whole list by its header, and reordering. "),e.qZA(),e.TgZ(19,"li"),e._uU(20,"Many "),e.TgZ(21,"span",3),e._uU(22,"vertical"),e.qZA(),e._uU(23," ones, which contain the kanban cards. Try moving the cards between lists. "),e.qZA()()(),e.TgZ(24,"div",4),e._UZ(25,"kanban-board"),e.qZA())},dependencies:[y.Z,B],styles:["*[_ngcontent-%COMP%]{box-sizing:border-box}[_nghost-%COMP%]{display:flex;flex-direction:column}.relative[_ngcontent-%COMP%]{position:relative}.text[_ngcontent-%COMP%]{background:#fff;max-width:800px}.span[_ngcontent-%COMP%]{border-radius:4px;padding:0 2px}.span--darkblue[_ngcontent-%COMP%]{background:#50ddb0;color:#fff}.span--light[_ngcontent-%COMP%]{background:#eee;color:#000;box-shadow:0 1px 3px #00000014,0 1px 2px #00000029}"],changeDetection:0})}return n})(),providers:[h]}]}}]);